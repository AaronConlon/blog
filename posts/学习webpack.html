<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta name="description" content="javascript node deno linux web developer"/><meta charSet="utf-8"/><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text y=%22.9em%22 font-size=%2290%22&gt;ğŸ¯&lt;/text&gt;&lt;/svg&gt;"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"/><title>å­¦ä¹ webpack</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css"/><link rel="stylesheet" href="/blog/post.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-J0BNBT8YXG"></script><script><!-- Global site tag (gtag.js) - Google Analytics -->
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-J0BNBT8YXG');</script><style></style><link rel="preload" href="/blog/_next/static/css/8ef88aaa27e60d0e48db.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/8ef88aaa27e60d0e48db.css" data-n-g=""/><link rel="preload" href="/blog/_next/static/css/5af383a6793efef21f55.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/5af383a6793efef21f55.css" data-n-p=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/blog/_next/static/chunks/main-c37f7d67026ad75148c3.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/webpack-eb080e3f091731f228fb.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons.cb58dfc173e18379cc5b.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/6335da8543c52d3af527c387f688061357787349.aa32db8a194765817dea.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-ec227152ab7c3ab4ac27.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.f2335cbaf06875528bc0.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-a3b98341ead03cf4e1a2.js" as="script"/></head><body><div id="__next"><style data-emotion-css="d6jcgn">html{line-height:1.15;-webkit-text-size-adjust:100%;}body{margin:0;}main{display:block;}h1{font-size:2em;margin:0.67em 0;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background-color:transparent;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bolder;}code,kbd,samp{font-family:monospace,monospace;font-size:1em;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none !important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none !important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:list-item;}template{display:none;}[hidden]{display:none !important;}html{box-sizing:border-box;font-family:sans-serif;}*,*::before,*::after{box-sizing:border-box;}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";line-height:1.5;-webkit-font-smoothing:antialiased;-webkit-text-size-adjust:100%;text-rendering:optimizelegibility;}hr{border-top-width:1px;}img{border-style:solid;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0 !important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle;}img,video{max-width:100%;height:auto;}html{line-height:1.5;color:#1A202C;}*,*::before,*::after{border-width:0;border-style:solid;border-color:#E2E8F0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::-ms-input-placeholder,textarea::-ms-input-placeholder{color:#A0AEC0;}input::-webkit-input-placeholder,textarea::-webkit-input-placeholder{color:#A0AEC0;}input::-moz-placeholder,textarea::-moz-placeholder{color:#A0AEC0;}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#A0AEC0;}input::placeholder,textarea::placeholder{color:#A0AEC0;}</style><div class="css-0"><div class="layout_container__1BBI- css-0"><header><div class="css-0"><style data-emotion-css="em7ozm">.css-em7ozm{font-size:2.25rem;line-height:1.25;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";text-align:center;margin:0 auto;padding:1.4rem 1rem;color:#0069d6;}@media screen and (min-width:48em){.css-em7ozm{font-size:3rem;}}</style><h1 class="css-em7ozm"><a href="/blog">å¦™æ‰<style data-emotion-css="1i1myri">.css-1i1myri{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:30%;}</style><sub class="css-1i1myri">blog</sub></a></h1></div></header><a class="github-fork-ribbon" href="https://github.com/youyiqin/blog" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a><main><div class="css-0"><style data-emotion-css="t9c2rr">.css-t9c2rr{width:100%;margin:0 auto;padding-bottom:2rem;max-width:960px;}</style><div class="css-t9c2rr"><style data-emotion-css="8atqhb">.css-8atqhb{width:100%;}</style><img alt="" class="css-8atqhb"/></div><style data-emotion-css="1td051d">.css-1td051d{width:100%;margin:0 auto;max-width:960px;}</style><div class="css-1td051d"><style data-emotion-css="1299f13">.css-1299f13{font-size:1.875rem;line-height:2.5rem!important;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";text-align:center;overflow:hidden;}@media screen and (min-width:30em){.css-1299f13{line-height:3rem!important;}}@media screen and (min-width:48em){.css-1299f13{font-size:2.25rem;}}</style><h1 class="css-1299f13">å­¦ä¹ webpack</h1><style data-emotion-css="7e9jz6">.css-7e9jz6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:2rem;margin:0 auto;margin-right:0.4rem;float:right;}</style><div id="tags" class="css-7e9jz6"><style data-emotion-css="18h3rpj">.css-18h3rpj{display:inline-block;padding-left:8px;padding-right:0.25rem;text-transform:uppercase;font-size:0.6rem;border-radius:5px;font-weight:700;white-space:nowrap;vertical-align:middle;background-color:#c6f6d5;color:#22543d;height:2rem;line-height:2rem;min-width:4rem;margin-right:0.5rem;}</style><div class="css-18h3rpj">webpack</div><style data-emotion-css="qgikqf">.css-qgikqf{display:inline-block;padding-left:8px;padding-right:0.25rem;text-transform:uppercase;font-size:0.6rem;border-radius:5px;font-weight:700;white-space:nowrap;vertical-align:middle;background-color:#c6f6d5;color:#22543d;height:2rem;line-height:2rem;min-width:4rem;}</style><div class="css-qgikqf">å·¥ç¨‹åŒ–</div></div><style data-emotion-css="8ddayy">.css-8ddayy{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:2rem;max-width:100%;border-radius:0.25rem;font-weight:500;min-width:2rem;padding-left:0.75rem;padding-right:0.75rem;background-color:#c6f6d5;color:#22543d;margin-bottom:2rem;font-size:0.6rem;margin-left:0.4rem;}</style><div class="css-8ddayy">æœ€åæ›´æ–°: <!-- -->2021/1/13</div><div><p>2021å¹´01æœˆ13æ—¥00:33:47 ä¼‘æ¯äº†,æ—©èµ·,å°½é‡æ…¢æ…¢ä¸è¦ç†¬å¤œ.</p><h1 id="-webpack">æ–°æ‰‹çœ¼é‡Œçš„ webpack</h1><style data-emotion-css="1xvrksk">.css-1xvrksk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:1.5rem;}</style><div class="css-1xvrksk"><style data-emotion-css="1v59okt">.css-1v59okt{width:42px;height:42px;padding:0.5rem;}</style><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><style data-emotion-css="pbmhrg">.css-pbmhrg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff2f2;border-radius:8px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><div class="css-pbmhrg"><p>é‚£ä¹ˆ webpack æ˜¯ä»€ä¹ˆ?</p></div></div><p>ç®€å•æ¥è¯´,webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·.</p><p><style data-emotion-css="sjjdi9">.css-sjjdi9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:1.5rem;}</style><div class="css-sjjdi9"><img src="https://www.ma-no.org/cache/galleries/contents-1806/webpack-how-it-works.jpeg"/></div></p><p>æˆ‘ä»¬åœ¨åˆ›å»ºä¸ºé¡¹ç›®ç¼–å†™ä»£ç çš„æ—¶å€™,ä¼šç”¨åˆ°éå¸¸å¤šçš„ç´ æå’Œä»£ç æ–‡ä»¶.ä½†æ˜¯ç±»ä¼¼<code>sass</code>æˆ–è€…<code>typescript</code>ç­‰æŠ€æœ¯éœ€è¦é€šè¿‡ä¸€äº›å¿…è¦çš„å·¥å…·è½¬è¯‘æˆ–è€…ç¼–è¯‘ä¸ºæ„å»ºé¡¹ç›®çš„åŸºç¡€å†…å®¹.</p><p>å°±åƒ<code>sass</code>éœ€è¦è½¬ä¸º<code>css</code>æ–‡ä»¶,<code>typescript</code>éœ€è¦è½¬åŒ–ä¸º<code>js</code>ä»£ç ,è€Œ<code>js</code>ä»£ç åˆé‡åˆ°äº†æ–°çš„é—®é¢˜.</p><p><code>js</code>ä¸€ç›´åœ¨ä¸æ–­å‘å±•,æ–°çš„åŠŸèƒ½è¢«å›½é™…åŒ–ç»„ç»‡åˆ¶å®šå’Œæ¨å¹¿å¼€æ¥,ä½œä¸ºå¹¿å¤§å¼€å‘è€…ä¹‹ä¸€,æˆ‘å¾ˆå¼€å¿ƒèƒ½ä½¿ç”¨<code>ECMAScript</code>çš„æœ€æ–°ç‰¹æ€§,è¿™äº›ç‰¹æ€§ä¸ºæˆ‘æä¾›äº†å¼ºåŠ›çš„åŠŸèƒ½,å‡å°‘äº†æˆ‘çš„æ—¥å¸¸å¼€å‘å·¥ä½œé‡,æé«˜æ•ˆç‡,å¢å¼ºä»£ç çš„<code>ç¾æ„Ÿ</code>å’Œ<code>å¯è¯»æ€§</code>.</p><p>ä¸¾ä¸ªä¾‹å­,ä¸åŒæµè§ˆå™¨å‚å•†å¯¹æœ€æ–°çš„<code>ECMAScript</code>æ ‡å‡†æ”¯æŒåº¦ä¸åŒ,å¯¹è§„èŒƒä¸­å°‘æ•°å¹¶æœªå£°æ˜çš„ç»†èŠ‚çš„æŠ€æœ¯å®ç°ä¹Ÿä¸å°½ç›¸åŒ,ç”šè‡³,è¢«å¹¿å¤§å¼€å‘è€…è¯Ÿç—…çš„<code>IE</code>æµè§ˆå™¨,åœ¨å…¶<code>11</code>ç‰ˆæœ¬ä¸­è¿2015å¹´åˆ¶å®šçš„<code>ES6</code>è§„èŒƒéƒ½ä¸å®Œå…¨æ”¯æŒ(å°½ç®¡æœ‰ä»–è‡ªå·±çš„é™åˆ¶,æˆ‘ä»¬ä¹Ÿåº”è¯¥æ„Ÿæ¿€å’Œå°Šé‡ä»–),<code>IE 11</code>åœ¨ä»Šå¹´8æœˆä»½ä¸å†å—å¾®è½¯çš„æ›´æ–°å’Œæ”¯æŒ,åç»­å¾®è½¯å°†è½¬æˆ˜<code>EDGE</code>.</p><p>å¼€å‘è€…ä¸ºäº†æ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€è¦,éœ€è¦ä¸ºä¸åŒæµè§ˆå™¨åšå…¼å®¹æ€§å¼€å‘,äºæ˜¯ä¸åŒçš„<code>polyfill</code>åº”è¿è€Œç”Ÿ,ç®€å•æ¥è¯´å°±æ˜¯å¼€å‘è€…æä¾›ä¸€äº›ä»£ç æ¨¡æ‹Ÿæµè§ˆå™¨æš‚æœªæ”¯æŒçš„è¯­æ³•ç‰¹æ€§ç­‰ç­‰,åŠ è½½äº†è¿™äº›è¡¥å……æ€§çš„ä»£ç ,æˆ‘ä»¬ç»ˆäºå¯ä»¥ä½¿ç”¨ä¸€å¥—<code>ECMAScript</code>è§„èŒƒè¿›è¡Œå¼€å‘.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>æ‡’æƒ°ä½¿äººè¿›æ­¥.</p></div></div><p>æˆ‘ç›¸ä¿¡é‚£äº›ç»é¡¶çš„æŠ€æœ¯å¤§ç‰›éƒ½æ˜¯å¾ˆæ‡’æƒ°çš„,è¿™äº›é‡å¤ç¹æ‚ä¸”æ— è¶£çš„å·¥ä½œ,å°±åº”è¯¥äº¤ç»™æœºå™¨è‡ªåŠ¨å¤„ç†.äºæ˜¯ä¹,å„ç§å¼€å‘è¾…åŠ©å·¥å…·å’Œåº“å‡ºç°äº†.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>åœ¨æŠ€æœ¯çš„åœˆå­é‡Œ,æŠ€æœ¯æ˜¯å¼€å‘è€…è¢«äººå°Šæ•¬çš„ç»å¯¹åŸå› ä¹‹ä¸€. (ä¸ªäººè§‚ç‚¹)</p></div></div><p>é«˜æ•ˆåœ°åº”ç”¨<code>webpack</code>è¿›è¡Œè¾…åŠ©å¼€å‘,å®šåˆ¶åŒ–è‡ªå·±å’Œå›¢é˜Ÿçš„é…ç½®,èƒ½è®©æˆ‘ä»¬å‡å°‘è®¸å¤šæ¯ç‡¥çš„å·¥ä½œå†…å®¹,æé«˜æ•ˆç‡.</p><p>è¯è¯´å›æ¥,æ­£å¦‚ä¸Šé¢çš„é‚£å¼ å›¾ä¸€æ ·, <code>webpack</code> å¯ä»¥å¯¹ä¸åŒæ‰©å±•åçš„æ–‡ä»¶é’ˆå¯¹æ€§çš„è¿›è¡Œå¤„ç†,éœ€è¦è½¬åŒ–çš„å°±ä½¿ç”¨ç›¸åº”é»˜è®¤æˆ–è€…æŒ‡å®šçš„å·¥å…·æˆ–è€…åŠŸèƒ½å»è½¬åŒ–.</p><p><code>webpack</code>åŠŸèƒ½å¼ºå¤§,ä»é¡¹ç›®åˆå§‹åŒ–,åˆ°å¼€å‘,è§„èŒƒåŒ–,åŠŸèƒ½å®šåˆ¶å’Œæµ‹è¯•,èµ„æºç®¡ç†å’Œæ„å»ºå‹ç¼©éƒ½èƒ½é€šè¿‡ç‹¬ç‰¹çš„é…ç½®å’Œå…¶ç”Ÿæ€ä¸­åºå¤§çš„èµ„æºæ¥æ”¯æŒæˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½,å¤„ç†ç‰¹å®šé—®é¢˜.</p><p>æœ€å,æ‰“åŒ…å‡ºå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒçš„èµ„æº.</p><p>è¯ä¸å¤šè¯´,è®©æˆ‘å†æ¬¡ä¸€æ­¥æ­¥å­¦ä¹ ä½¿ç”¨<code>webpack</code>æ„å»ºå¼€å‘å·¥ä½œæµå’Œç†Ÿæ‚‰å…¶å·¥ä½œåŸç†.</p><h1 id="">å®‰è£…ä½¿ç”¨</h1><p>é¦–å…ˆ,åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç›®å½•,è¿›å…¥å¹¶ä¸”åˆå§‹åŒ–é¡¹ç›®.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-BASH"># åˆå§‹åŒ–é¡¹ç›®,å®‰è£…ä¾èµ–
$ yarn init -y
$ yarn add -D webpack webpack-cli</code></pre></div></div></details><p>æ¥ä¸‹æ¥çœ‹çœ‹<code>package.json</code>æ–‡ä»¶çš„å†…å®¹:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">{
  &quot;name&quot;: &quot;webpack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;webpack&quot;
  },
  &quot;dependencies&quot;: {},
  &quot;devDependencies&quot;: {
    &quot;webpack&quot;: &quot;^5.15.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.3.1&quot;
  }
}</code></pre></div></div></details><p>å½“å‰<code>webpack</code>ä¸º<code>5.15.0</code>ç‰ˆæœ¬,åœ¨<code>scripts</code>è¿™é‡Œå†™å…¥äº†ä¸€ä¸ª<code>dev</code>é¡¹,äºæ˜¯æˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨<code>yarn dev</code>è°ƒç”¨<code>webpack</code>äº†.</p><p>å†æ¬¡é‡ç”³,<code>webpack</code>å¹¶æœªå…¨å±€å®‰è£…,è€Œæ˜¯å®‰è£…åœ¨é¡¹ç›®ç›®å½•,ä½ å¯ä»¥åœ¨<code>node_modules</code>ç›®å½•ä¸­çœ‹åˆ°å®ƒ,é€šè¿‡åœ¨<code>scripts</code>ä¸­è°ƒç”¨<code>webpack</code>,ä¼šè‡ªåŠ¨ä½¿ç”¨<code>npx webpack</code>è¿›è¡Œå¤„ç†.äºŒè€…æœ¬è´¨ä¸Šæ— å¤ªå¤§å·®åˆ«.è¿™æ˜¯<code>yarn</code>æˆ–è€…<code>npm</code>çš„æœºåˆ¶.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>æœ¬æ–‡ç»Ÿä¸€ä½¿ç”¨<code>yarn</code>è¿›è¡ŒåŒ…ç®¡ç†.</p></div></div><p><code>webpack</code>ä½œä¸ºä¸€ä¸ª<code>CLI</code>,å…¶é»˜è®¤æ”¯æŒäº†è®¸å¤šé…ç½®é¡¹,åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹,å¯ä»¥ç›´æ¥ä½¿ç”¨å…¶åŠŸèƒ½.ä¸è¿‡æˆ‘è§‰å¾—é™¤äº†æ¼”ç¤ºå…¶åŸºç¡€åŠŸèƒ½è¿™ç§åœºæ™¯å¤–,å¼€å‘è€…éƒ½ä¼šå¢å¼ºå’Œå®šåˆ¶å…¶é…ç½®.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>é»˜è®¤<code>webpack</code>ä¼šå°†é¡¹ç›®ç›®å½•ä¸‹çš„<code>src</code>ç›®å½•å†…çš„<code>index.js</code>æ‰“åŒ…åˆ°<code>dist</code>ä¸‹,é‡å‘½åä¸º<code>main.js</code>.</p></div></div><p>ä¸è¦åœ¨é»˜è®¤æœºåˆ¶ä¸Šæ­¢æ­¥ä¸å‰,ç»§ç»­.</p><h1 id="">åŸºç¡€é…ç½®</h1><p><code>webpack</code>æ”¯æŒä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œå®šåˆ¶åŒ–åŠŸèƒ½,é€šå¸¸,å¼€å‘è€…ä»¬ä¹ æƒ¯å‘½åç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸º<code>webpack.conf.js</code>.</p><p>æˆ‘ä»¬ä¸å¾—ä¸è¯´,<code>webpack</code>çš„ä¸€åˆ‡åŠŸèƒ½,éƒ½ä»ä¸€ä¸ª<code>entry</code>å¼€å§‹,è¿™ä¸ªå…¥å£ç‚¹æŒ‡æ˜äº†<code>webpack</code>åº”è¯¥ä»å“ªä¸€ä¸ªæ¨¡å—å¼€å§‹æ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾è°±.å¦‚ä¸Šæ‰€è¯´,è¿™ä¸ª<code>entry</code>é»˜è®¤æ˜¯<code>src/index.js</code>.</p><p>é»˜è®¤çš„è¾“å‡ºç›®å½•æ˜¯<code>dist</code>ç›®å½•,ä»¥åŠæ›´å¤šå†…å®¹å¾…ç»­.é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯:</p><p><strong>æˆ‘ä»¬èƒ½åšæ›´å¤šçš„å®šåˆ¶</strong></p><p>æ¥çœ‹çœ‹ä¸€ä¸ªç®€å•çš„<code>webpack.conf.js</code>,è¿™ä¸ªæ–‡ä»¶å°†ä¼šè¢«<code>node</code>éšå¼è½½å…¥è¿è¡Œ:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);

module.exports = {
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  output: {
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;my-first-webpack.bundle.js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  }
};</code></pre></div></div></details><p>æ¥ç€,ä¿®æ”¹<code>package.json</code>çš„é…ç½®é¡¹:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">{
  &quot;name&quot;: &quot;webpack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;webpack --config webpack.conf.js&quot; // æŒ‡å®šäº†é…ç½®æ–‡ä»¶
  },
  &quot;dependencies&quot;: {},
  &quot;devDependencies&quot;: {
    &quot;webpack&quot;: &quot;^5.15.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.3.1&quot;
  }
}</code></pre></div></div></details><p>ç°åœ¨,è¿›è¡Œæ„å»º:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-powershell">PS C:\Users\yy\test\webpack&gt; yarn dev
yarn run v1.22.10
$ webpack --config webpack.conf.js
asset my-first-webpack.bundle.js 811 bytes [emitted] (name: main)
./src/index.js 49 bytes [built] [code generated]
webpack 5.15.0 compiled successfully in 75 ms
Done in 1.01s.

PS C:\Users\yy\test\webpack&gt; ls .\out\

    Directory: C:\Users\yy\test\webpack\out

Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a---           2021/1/17    15:13            811 my-first-webpack.bundle.js</code></pre></div></div></details><p>ç°åœ¨,æ„å»ºè¾“å‡ºçš„åˆ°äº†ç›®å½•<code>out</code>.å‘½åä¹Ÿä»<code>main.js</code>å˜æˆäº†æˆ‘ä»¬æŒ‡å®šçš„<code>my-first-webpack.bundle.js</code>.</p><p>æƒ³çœ‹çœ‹æ„å»ºç»“æœ?</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">/*
 * ATTENTION: The &quot;eval&quot; devtool has been used (maybe by default in mode: &quot;development&quot;).
 * This devtool is neither made for production nor for readable output files.
 * It uses &quot;eval()&quot; calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with &quot;devtool: false&quot;.
 * If you are looking for production-ready output files, see mode: &quot;production&quot; (https://webpack.js.org/configuration/mode/).
 */
/******/ (() =&gt; { // webpackBootstrap
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
eval(&quot;const a = () =&gt; console.log(&#x27;a&#x27;)\r\nconsole.log(a);\n\n//# sourceURL=webpack://webpack/./src/index.js?&quot;);
/******/ })()
;</code></pre></div></div></details><p>å…¥å£ç‚¹çš„ä»£ç éå¸¸ç®€å•,æˆ‘å®šä¹‰äº†ä¸€ä¸ªç®€å•å‡½æ•°è€Œå·².<code>é€šå¸¸æƒ…å†µä¸‹</code>,ä½ å¯èƒ½å¹¶ä¸éœ€è¦é˜…è¯»æ„å»ºä¹‹åçš„ä»£ç ,å¹¶ä¸”æ„å»ºä¹‹åçš„ä»£ç å¯è¯»æ€§å®åœ¨æ˜¯æ²¡æ³•è·Ÿæºç ç›¸æ¯”,ä¸Šè¿°æ„å»ºå†…å®¹è¿˜æ²¡å‹ç¼©,å‹ç¼©ä¹‹åå°±æ›´æ²¡æ³•çœ‹äº†.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>webpack é»˜è®¤åªèƒ½è¯†åˆ«<code>JavaScript</code>æ–‡ä»¶.</p></div></div><h1 id="loader">LOADER</h1><p>ä¸ºäº†å¯¹å…¶ä»–ç±»å‹çš„æ–‡ä»¶è¿›è¡Œå¤„ç†å’Œå¤§åŒ…,<code>webpack</code>æä¾›äº†<code>loader</code>åŠŸèƒ½.å…³äº<code>loader</code>: </p><p>loader èƒ½å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶é€šè¿‡ç‰¹å®šæ’ä»¶å’ŒåŠŸèƒ½,å°†å…¶è½¬åŒ–ä¸º<code>webpack</code>èƒ½æœ‰æ•ˆå¤„ç†çš„æ¨¡å—,ç„¶åå¼€å‘è€…å°±å¯ä»¥åˆ©ç”¨å…¶å¤§åŒ…åŠŸèƒ½è¿›è¡Œæ‰“åŒ….</p><p><code>loader</code>æœ‰ä¸¤ä¸ªå…³é”®é€‰é¡¹:</p><ul><li>test: æ ‡è¯† loader è½¬æ¢çš„ç›®æ ‡æ–‡ä»¶,é€šå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç±»å‹è¯´æ˜</li><li>use: ä½¿ç”¨å“ªä¸ªæˆ–è€…å“ªäº›<code>loader</code></li></ul><p>ç»§ç»­,é‚£ä¹ˆå¦‚ä½•å¤„ç†æˆ‘ä»¬å‰ç«¯å¼€å‘ç»•ä¸å¼€çš„<code>CSS</code>é—®é¢˜?<code>webpack</code>å¦‚ä½•å¤„ç†è¿™ä¸€åˆ‡?<code>loader</code>å¯ä»¥å—?</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„.</p><h1 id="css--sass">CSS &amp; SASS</h1><p>æˆ‘ä¸ªäººå–œæ¬¢<code>Sass</code>, è¿™é¡¹æŠ€æœ¯è®©æˆ‘ç¼–å†™<code>css</code>çš„æ—¶å€™æ›´è½»æ¾æ„‰å¿«.ä¸ºäº†è®©<code>Sass</code>æ–‡ä»¶äº§ç”Ÿæ•ˆæœ,éœ€è¦åšä¸‰ä»¶äº‹:</p><ul><li>sassè½¬è¯‘æˆcss</li><li>cssè½¬æ¢æˆjs</li><li>jsæ³¨å…¥é¡µé¢DOM,æ„å»ºstyle</li></ul><p>ä¸ºäº†å®ç°è¿™ä¸€éœ€æ±‚,æˆ‘ä»¬éœ€è¦ä¸‰ä¸ªå…³é”®<code>loader</code>:</p><ul><li>style-loader: å°† CSS æ³¨å…¥ DOM ä¸­,è¯¦æƒ…: <a href="https://webpack.js.org/loaders/style-loader/">style-loader | webpack</a></li><li>css-loader:  è§£é‡Š <code>JS</code>ä¸­ä½¿ç”¨<code>esModule</code>çš„è¯­æ³•å¯¼å…¥<code>CSS</code>æ–‡ä»¶çš„è¡Œä¸º,æ”¯æŒæ›¿æ¢<code>CSS</code>æ–‡ä»¶ä¸­çš„<code>@import</code>å’Œ<code>url()</code>ä½¿ç”¨<code>import/require()</code>æ¥è§£æ.è¯¦æƒ…:<a href="https://webpack.js.org/loaders/css-loader/">css-loader | webpack</a></li><li>sass-loader: è½¬è¯‘<code>SASS</code>æ–‡ä»¶,è¿™é‡Œæä¸€ä¸‹æ”¯æŒå¯¼å…¥<code>node_modules</code>ä¸‹çš„<code>CSS</code>æ–‡ä»¶,è¯¦æƒ…:<a href="https://webpack.docschina.org/loaders/sass-loader/">sass-loader | webpack</a></li></ul><p>ä»¥åŠå®‰è£…å¤šä¸ªä¾èµ–:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-bash">yarn add -D sass-loader sass style-loader css-loader</code></pre></div></div></details><p>æ¯ä¸€ä¸ª<code>loader</code>åŸºæœ¬ä¸Šéƒ½æ”¯æŒç‰¹å®šçš„é…ç½®,å¦‚æœé»˜è®¤é…ç½®ä¸æ”¯æŒå¼€å‘è€…éœ€è¦çš„åŠŸèƒ½ç‰¹æ€§,åˆ™æ¨èé˜…è¯»<code>loader</code>å®˜æ–¹æ–‡æ¡£å¯»æ±‚å¸®åŠ©.</p><p>ä»¥å¼€å‘æ¨¡å¼å®‰è£…ä¸‰ä¸ªåº“ä¹‹å,è¿›è¡Œ<code>webpack</code>é…ç½®:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);

module.exports = {
  mode: &#x27;development&#x27;,
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  output: {
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;my-first-webpack.bundle.js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  },
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27; // æ³¨æ„é¡ºåº,åè€…å…ˆè¿›è¡Œå¤„ç†
        ]
      }
    ]
  }
};</code></pre></div></div></details><p><code>Sass</code>åˆ°<code>CSS</code>,å†åˆ°<code>JS</code>,æœ€åæ³¨å…¥åˆ°<code>HTML DOM</code>ä¸­,æ·»åŠ <code>Style</code>å…ƒç´ ,å†…éƒ¨æ˜¯æ ·å¼.å½“ç„¶,å¦‚æœæƒ³è¦å•ç‹¬æ‰“åŒ…,ä¸æ³¨å…¥åˆ°<code>head</code>å…ƒç´ å†…çš„<code>style</code>å†…,è€Œæ˜¯é€šè¿‡å¸¸è§çš„<code>css link</code>å‘æŒ¥æ•ˆç”¨ä¹Ÿæ˜¯å¯ä»¥çš„.</p><h1 id="">ç¼“å­˜æ¸…ç†å’Œæ’ä»¶</h1><p>åœ¨å¼€å‘çš„æ—¶å€™,å¦‚æœç›¸å…³èµ„æºçš„åå­—ä¸å˜,æµè§ˆå™¨ç«¯å¯èƒ½ä¼šç›´æ¥ä»ç¡¬ç›˜è¯»å–ä¹‹å‰ç¼“å­˜çš„èµ„æº.ä¾‹å¦‚,æˆ‘ä»¬æ¯æ¬¡æ›´æ–°ä»£ç ,é‡æ–°æ„å»ºçš„å‡ºå£æ–‡ä»¶éƒ½æ˜¯<code>main.js</code>,é‚£ä¹ˆæµè§ˆå™¨ç«¯å¯èƒ½ä¼šä½¿ç”¨ç¼“å­˜,è€Œä¸æ˜¯æ¯æ¬¡éƒ½ä½¿ç”¨æœ€æ–°æ„å»ºçš„ç‰ˆæœ¬.</p><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­,æˆ‘ä»¬å¯èƒ½ä¼šç»å¸¸çœ‹åˆ°ä¸€äº›å¸¦å“ˆå¸Œå€¼çš„æ–‡ä»¶å,ä¾‹å¦‚:<code>main.jkdajkd2jdai2i.js</code>.</p><p><code>webpack</code>æ”¯æŒè¾“å‡ºå¤§åŒ…çš„æ–‡ä»¶çš„æ—¶å€™,ä¸ºå‡ºå£æ–‡ä»¶æä¾›éšæœºçš„<code>hash</code>å€¼,ä½œä¸ºæœ€ç»ˆæ„å»ºæ–‡ä»¶çš„æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†,è¿™ä¸€ç°è±¡éå¸¸å¸¸è§.</p><p>è®©æ„å»ºçš„è¾“å‡ºæ–‡ä»¶åç”Ÿæˆ<code>hash</code>å€¼å¹¶ä¸å¤æ‚,å¯ä»¥ç›´æ¥åœ¨<code>webpack.conf.js</code>ä¸­é…ç½®.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);

module.exports = {
  mode: &#x27;development&#x27;,
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  output: {
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;main.[contenthash].js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  },
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;
        ]
      }
    ]
  }
};</code></pre></div></div></details><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>webpack çš„é…ç½®é¡¹ä¸°å¯Œ,ä¹Ÿå¯ä»¥è¯´æˆç¹æ‚,ä»”ç»†ç ”ç©¶æ¯ä¸€ä¸ªé…ç½®é¡¹éœ€è¦èŠ±è´¹ç›¸åº”çš„æ—¶é—´å’Œç²¾åŠ›,å¿…è¦æ—¶ä¹Ÿè®¸å¯ä»¥è·³ç€çœ‹,çœ‹ç€å½¢æˆä¸€äº›å°è±¡,éœ€è¦ç”¨çš„æ—¶å€™,å†çœ‹ä¹Ÿè®¸èƒ½æ›´å¿«ç†è§£.</p></div></div><p>ç°åœ¨,ç”Ÿæˆçš„<code>output</code>æ–‡ä»¶,ä¼šè‡ªåŠ¨å¸¦ä¸Š<code>hash</code>å€¼,æˆ‘ä»¬ä¸å¿…æ‹…å¿ƒæµè§ˆå™¨çš„ç¼“å­˜é—®é¢˜äº†.</p><p>ä½†æ˜¯,çœ‹èµ·æ¥äº§ç”Ÿäº†æ–°çš„é—®é¢˜.æˆ‘ä»¬çœ‹çœ‹é¡¹ç›®ç›®å½•ä¸‹çš„<code>index.html</code>:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;webpack learning&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Start...&lt;/h1&gt;
  &lt;script src=&quot;./out/main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div></div></details><p>æ²¡ä»€ä¹ˆé—®é¢˜,ä¾ç„¶æ˜¯å¼•å…¥äº†<code>output</code>æ‰“åŒ…ç”Ÿæˆçš„ç»“æœ.åªæ˜¯ç”±äºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†<code>hash</code>å€¼,æ–‡ä»¶åå˜å¾—éš¾ä»¥è®°å¿†,ä¸”æ¯æ¬¡éƒ½ä¸ä¸€æ ·,è¿™é‡Œå¿…ç„¶æ˜¯ä¸èƒ½å†™æ­»æˆ<code>./out/main.js</code>.</p><p><code>webpack</code>æä¾›äº†<code>plugins</code>æ’ä»¶æœºåˆ¶æ¥è§£å†³è¿™ä¸€ç±»é—®é¢˜.<code>nodejs</code>å¯ä»¥å¼€å‘ä¸€äº›è„šæœ¬å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å¤„ç†è¿™äº›æ¯ç‡¥çç¢çš„é—®é¢˜.</p><p>è¯·ç‚¹å¼€è¿™é‡Œ<a href="https://webpack.docschina.org/plugins/">Plugins | webpack</a>, <code>webpack</code>ç”Ÿæ€ç¹è£,æ’ä»¶ç¹å¤š,è¿™æ„å‘³è¿™ç»å¤§å¤šæ•°çš„æ—¥å¸¸å¼€å‘é—®é¢˜,éƒ½èƒ½é€šè¿‡æ’ä»¶ç³»ç»Ÿè§£å†³æ‰.å¦‚æœä½ éœ€è¦å¤„ç†ä¸€äº›<code>webpack</code>æ„å»ºç›¸å…³çš„é—®é¢˜,ä¸å¦¨çœ‹çœ‹è¿™é‡Œæ˜¯å¦å·²ç»æœ‰äº†å…¶ä»–å¼€å‘è€…æä¾›çš„æ’ä»¶è§£å†³æ–¹æ¡ˆ.</p><p>å›åˆ°ç¡¬ç¼–ç çš„<code>./out/main.js</code>çš„é—®é¢˜,æ’ä»¶<a href="https://webpack.docschina.org/plugins/html-webpack-plugin/">HtmlWebpackPlugin | webpack</a> ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ.</p><p>å…ˆå®‰è£…åº“:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-bash">yarn add -D html-webpack-plugin@next</code></pre></div></div></details><p>è¿™ä¸ªæ’ä»¶èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„åˆ›å»ºè‡ªåŠ¨é“¾æ¥äº†<code>bundles</code>çš„<code>HTML</code>æ–‡ä»¶.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ›´æ–°å…·æœ‰<code>hash</code>å€¼çš„<code>bundles</code>æ–‡ä»¶å¼•ç”¨.åœ¨å¾ˆå¤šåœºæ™¯ä¸‹éƒ½èƒ½çœ‹åˆ°ä¾‹å¦‚<code>dist/index.html</code>çš„å­˜åœ¨,ä¸”æ­¤æ–‡ä»¶å†…éƒ¨<code>body</code>çš„æœ€åé¢æ’å…¥äº†ä¸€ä¸ª<code>script</code>æ ‡ç­¾.å¦‚æœä½ ä¸æ­¢æœ‰ä¸€ä¸ª<code>bunddle</code>,ä¹Ÿèƒ½å¤Ÿéƒ½åŒ…å«åœ¨<code>script</code>æ ‡ç­¾å†….</p><p>å¹¶ä¸”,è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>template</code>æ¨¡ç‰ˆæ–‡ä»¶ä»¥ä¾›ä½¿ç”¨.</p><p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹<code>webpack</code>çš„é…ç½®:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  mode: &#x27;development&#x27;,
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  output: {
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;main.[contenthash].js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  },
  plugins: [new HtmlWebpackPlugin({
    // å‡ ä¹æ¯ä¸ªæ’ä»¶éƒ½æ”¯æŒä¸°å¯Œçš„é…ç½®,é»˜è®¤æƒ…å†µä¸‹,æ­¤æ’ä»¶åˆ›å»ºçš„index.htmléå¸¸ç®€å•,å¯¹æ­¤
    // å¼€å‘è€…å¯ä»¥ä½¿ç”¨templateæ–‡ä»¶ä»£æ›¿,åœ¨templateæ–‡ä»¶ä¸­æ·»åŠ é€šç”¨ä»£ç ,æ­¤æ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†bodyæœ€åçš„å¼•å…¥é—®é¢˜.
    template: &quot;./src/template.html&quot;
  })],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;
        ]
      }
    ]
  }
};</code></pre></div></div></details><h1 id="">å¼€å‘æ¨¡å¼é—®é¢˜</h1><p>åˆ‡æ¢ä¸åŒçš„å¼€å‘æ¨¡å¼,ä¸ºä¸åŒçš„å¼€å‘æ¨¡å¼æ·»åŠ ä¸åŒçš„é…ç½®å’Œé’ˆå¯¹æ€§çš„åŠŸèƒ½éå¸¸å¸¸è§.</p><p>æœ‰æ—¶å€™,æˆ‘ä»¬åˆ›å»ºäº†<code>webpack.dev.js</code>å’Œ<code>webpack.prod.js</code>ä»¥åŠ<code>webpack.common.js</code>ä¸‰ä¸ªé…ç½®æ–‡ä»¶.é€šè¿‡åå­—å°±èƒ½ç†è§£ä¸‰ä¸ªæ–‡ä»¶çš„ä½œç”¨,å¹¶ä¸”é€šè¿‡ç¬¬ä¸‰æ–¹åº“å’Œç‰¹å®šçš„<code>package.json</code>å®šåˆ¶<code>scripts</code>,æˆ‘ä»¬å¯ä»¥å…±ç”¨<code>common</code>çš„é…ç½®,å¹¶ä¸”æ ¹æ®ä¸åŒçš„å‘½ä»¤,ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶è¿›è¡Œæ‰“åŒ….</p><p>å®‰è£…æ’ä»¶:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-bash">yarn add -D webpack-merge</code></pre></div></div></details><p>ç°åœ¨åˆ›å»ºè¿™ä¸‰ä¸ªæ–‡ä»¶:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">// webpack.common.js
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  plugins: [new HtmlWebpackPlugin({
    template: &quot;./src/template.html&quot;
  })],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;
        ]
      }
    ]
  }
};

// webpack.dev.js
const path = require(&#x27;path&#x27;);
const common = require(&quot;./webpack.common&quot;);
const { merge } = require(&quot;webpack-merge&quot;)
// ç›´æ¥ä½¿ç”¨mergeå‡½æ•°,åˆå¹¶ä¸¤ä¸ªé…ç½®å¯¹è±¡
module.exports = merge(common, {
  mode: &#x27;development&#x27;,
  output: {
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;main.[contenthash].js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  }
}0;

// webpack.prod.js
const path = require(&#x27;path&#x27;);
const common = require(&quot;./webpack.common&quot;);
const { merge } = require(&quot;webpack-merge&quot;)
module.exports = merge(common, {
  mode: &#x27;production&#x27;,
  output: {
    path: path.resolve(__dirname, &#x27;dist&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;main.js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  }  
});</code></pre></div></div></details><p>å°±å¦‚åŒæ’ä»¶çš„åå­—å…³é”®å­—ä¸€æ ·,<code>merge</code>åˆå¹¶å¤šä¸ªé…ç½®.æ¥ç€,ç›´æ¥ä¿®æ”¹<code>package.json</code>çš„<code>scripts</code>:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">{
  &quot;name&quot;: &quot;webpack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;webpack --config webpack.dev.js&quot;,
    &quot;build&quot;: &quot;webpack --config webpack.prod.js&quot;
  },
  &quot;dependencies&quot;: {},
  &quot;devDependencies&quot;: {
    &quot;css-loader&quot;: &quot;^5.0.1&quot;,
    &quot;html-webpack-plugin&quot;: &quot;^4.5.1&quot;,
    &quot;sass&quot;: &quot;^1.32.4&quot;,
    &quot;sass-loader&quot;: &quot;^10.1.1&quot;,
    &quot;style-loader&quot;: &quot;^2.0.0&quot;,
    &quot;webpack&quot;: &quot;^5.15.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.3.1&quot;,
    &quot;webpack-merge&quot;: &quot;^5.7.3&quot;
  }
}</code></pre></div></div></details><p>ç°åœ¨,ä½¿ç”¨<code>yarn dev</code>å’Œ<code>yarn build</code>åˆ™èƒ½æ ¹æ®ä¸åŒçš„æ¨¡å¼è¿›è¡Œæ„å»ºäº†. <code>webpack</code>å®˜æ–¹æ”¯æŒåŒæ—¶å¯¼å‡ºä¸åŒçš„é…ç½®,ä½†ä¸ªäººçœ‹æ¥,æˆ‘æ›´å–œæ¬¢è¿™ç§<code>merge</code>å¤šæ–‡ä»¶çš„å½¢å¼.</p><h1 id="">çƒ­åŠ è½½å’Œå¼€å‘æœåŠ¡å™¨</h1><p>å¦‚æœä½ æƒ³è¦åœ¨æœ¬åœ°å¼€å‘çš„æ—¶å€™ä½¿ç”¨çƒ­åŠ è½½çš„åŠŸèƒ½,ä¿®æ”¹ä»£ç çš„åŒæ—¶,è‡ªåŠ¨è¿›è¡Œæ„å»ºå’Œæµè§ˆå™¨ç«¯çš„åˆ·æ–°.<code>webpack</code>ä¾ç„¶å­˜åœ¨å¾ˆå¤šå¯é€‰çš„æ–¹æ¡ˆ.</p><p>ç°åœ¨,æ¥çœ‹çœ‹å…¶ä¸­ä¸€ç§æ–¹æ¡ˆ:</p><p><code>webpack-dev-server</code>.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>å¦‚æœä½ æœ‰ä»€ä¹ˆå¼‚å¸¸ï¼Œè¯·æŸ¥çœ‹ç‰ˆæœ¬å’Œå®˜ç½‘è¯´æ˜ï¼Œä¸åŒæ—¶é—´ä¹Ÿè®¸ä¼šæœ‰ä¸€å®šçš„å·®å¼‚ã€‚</p></div></div><p>æˆ‘æ²¡çœ‹è¿‡è¿™ä¸ªåº“çš„æºç ,ä¸è¿‡è¿™ä¸ªåº“éœ€è¦åšçš„é…ç½®éå¸¸ç®€å•,æ•ˆæœå´å‡ºå¥‡çš„å¥½.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">{
  &quot;name&quot;: &quot;webpack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;scripts&quot;: {
    &quot;dev&quot;: &quot;webpack serve --config webpack.dev.js --open&quot;, // è°ƒç”¨webpack-dev-server æ‰“å¼€æµè§ˆå™¨
    &quot;build&quot;: &quot;webpack --config webpack.prod.js&quot;
  },
  &quot;dependencies&quot;: {},
  &quot;devDependencies&quot;: {
    &quot;css-loader&quot;: &quot;^5.0.1&quot;,
    &quot;html-webpack-plugin&quot;: &quot;^4.5.1&quot;,
    &quot;sass&quot;: &quot;^1.32.4&quot;,
    &quot;sass-loader&quot;: &quot;^10.1.1&quot;,
    &quot;style-loader&quot;: &quot;^2.0.0&quot;,
    &quot;webpack&quot;: &quot;^5.15.0&quot;,
    &quot;webpack-cli&quot;: &quot;^4.3.1&quot;,
    &quot;webpack-dev-server&quot;: &quot;^3.11.2&quot;,
    &quot;webpack-merge&quot;: &quot;^5.7.3&quot;
  }
}</code></pre></div></div></details><p>æ­¤æ—¶ï¼Œä¿®æ”¹<code>./src/index.js</code>ç«‹åˆ»å°±èƒ½çœ‹åˆ°æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ï¼Œç»ˆç«¯ä¹Ÿä¼šæç¤ºé‡æ–°æ„å»ºæ¶ˆæ¯ã€‚</p><h1 id="">å¤„ç†å›¾ç‰‡</h1><p><code>webpack</code>åªèƒ½è¯†åˆ«<code>JavaScript</code>æ–‡ä»¶,æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å›¾ç‰‡,æ— æ³•é€šè¿‡é»˜è®¤åŠŸèƒ½è¿›è¡Œæ‰“åŒ…å’Œå¯¹<code>output</code>æ–‡ä»¶è¿›è¡Œè·Ÿè¿›å¤„ç†,ä¾‹å¦‚æ— æ³•è‡ªåŠ¨è½¬æ¢æ‰“åŒ…åçš„<code>index.html</code>ä¸­çš„å›¾ç‰‡å±æ€§çš„åœ°å€.</p><p>æ¥ä¸‹æ¥ä½¿ç”¨çš„<code>loader</code>åˆ†åˆ«æ˜¯:</p><ul><li>html-loader</li><li>file-loaderæˆ–è€…url-loader</li></ul><p>ä¾ç„¶æ˜¯ä½¿ç”¨<code>npm</code>è¿›è¡Œå®‰è£…,ç¼–è¾‘<code>webpack.common.js</code>é…ç½®æ–‡ä»¶:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  plugins: [new HtmlWebpackPlugin({
    template: &quot;./src/template.html&quot;
  })],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;
        ]
      },
      {
        test: /\.html$/i,
        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader
        loader: &#x27;html-loader&#x27;
      },
      {
        test: /\.(jpg|png|gif|jpeg|svg)$/,
        use: {
          loader: &#x27;file-loader&#x27;,
          options: {
            outputPath: &#x27;imgs&#x27;,
            publicPath: &#x27;cdn.example.com/static/imgs&#x27;
          }
        }
      }
    ]
  }
};</code></pre></div></div></details><p>é’ˆå¯¹<code>html</code>æ–‡ä»¶,ä½¿ç”¨<code>html-loader</code>è¿›è¡Œå¤„ç†,è¿™ä¸ª<code>loader</code>èƒ½å¯¹<code>html</code>ä¸­çš„èµ„æºè¿›è¡Œè‡ªåŠ¨åŒ–çš„å¤„ç†,ä½¿å¾—<code>js</code>æ³¨å…¥çš„å›¾ç‰‡èµ„æº,<code>html-loader</code>å°†<code>img</code>ä¸­çš„<code>src</code>å±æ€§å€¼,é€šè¿‡å¯¼å…¥èµ„æºçš„æ–¹å¼å¼•å…¥.</p><p>ç„¶å,æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ªæ–°çš„<code>loader</code>å»å¤„ç†è¿™äº›å¼•å…¥çš„èµ„æº.</p><p>é’ˆå¯¹ä¸åŒå›¾ç‰‡èµ„æº,ä½¿ç”¨<code>file-loader</code>è¿›è¡Œå¤„ç†,ä½¿ç”¨è¿™ä¸ª<code>loader</code>èƒ½è®©æˆ‘ä»¬å¯ä»¥åœ¨<code>module</code>ä¸­ä½¿ç”¨<code>esModule</code>æˆ–è€…<code>commonjs</code>çš„æ–¹å¼å¯¼å…¥å›¾ç‰‡èµ„æº,ç„¶åé€šè¿‡<code>js</code>æ³¨å…¥åˆ°<code>html</code>æ–‡ä»¶ä¸­.</p><p>é’ˆå¯¹æ€§çš„<code>options</code>é…ç½®,å¯ä»¥å®ç°å¼€å‘è€…éœ€è¦çš„æ•ˆæœ,é»˜è®¤æ‰“åŒ…ä¹‹åçš„èµ„æºåå˜æˆ<code>hash</code>å€¼,æ‰©å±•åä¸å˜.æˆ‘ä»¬å¯ä»¥è®¾ç½®å¢åŠ ä¸€äº›åå­—,è™½ç„¶ä¸Šè¿°é…ç½®ä¸­æ²¡æœ‰.</p><p>ä¸Šè¿°é…ç½®ä¸­,é…ç½®äº†æ‰“åŒ…ä¹‹å,ä¿å­˜èµ„æºçš„è¾“å‡ºç›®å½•çš„åå­—,å’Œæ³¨å…¥åˆ°æœ€ç»ˆ<code>html</code>æ–‡ä»¶ä¸­.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>æ¯ä¸€ä¸ª<code>loader</code>éƒ½æœ‰å¾ˆå¤šé¢å¤–çš„å¯é€‰é…ç½®,å¯ä»¥å®ç°æ›´å¤šéœ€æ±‚.</p></div></div><p>æœ‰æ—¶å€™,ä½ å¯èƒ½ä¼šå¬åˆ°å°†å›¾ç‰‡èµ„æºè½¬ä¸º<code>base64</code>ç¼–ç å­—ç¬¦ä¸²,ç›´æ¥å†™å…¥<code>html</code>ä¸­å»çš„è¯´æ³•.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>å°†å›¾ç‰‡è½¬æˆ<code>base64</code>å¯ä»¥å‡å°‘æ€»ä½“å›¾ç‰‡èµ„æºå•ç‹¬çš„<code>http</code>è¯·æ±‚,è¿™æ˜¯ä¸€ç§ä¼˜åŒ–é€Ÿåº¦çš„æ–¹å¼.</p></div></div><p>è¿™ä¸ªæ—¶å€™,åˆ™å¯ä»¥ä½¿ç”¨<code>url-loader</code>.å®‰è£…ä¹‹å,å¯ä»¥ç›´æ¥é…ç½®<code>webpack.common.js</code>:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  entry: &#x27;./src/index.js&#x27;, // å…¥å£ç‚¹
  plugins: [new HtmlWebpackPlugin({
    template: &quot;./src/template.html&quot;
  })],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          &#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;
        ]
      },
      {
        test: /\.html$/i,
        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader
        loader: &#x27;html-loader&#x27;
      },
      {
        test: /\.(jpg|png|gif|jpeg|svg|ico)$/,
        use: {
          loader: &#x27;url-loader&#x27;,
          options: {
            limit: 8192,
            outputPath: &#x27;imgs&#x27;,
            publicPath: &#x27;cdn.example.com/static/imgs&#x27;
          }
        }
      }
    ]
  }
};</code></pre></div></div></details><p>å°†<code>file-loader</code>ç›´æ¥æ›¿æ¢æˆ<code>url-loader</code>,å”¯ä¸€éœ€è¦åœ¨æ„çš„æ˜¯èµ„æºå¤§å°<code>limit</code>çš„è®¾ç½®,é»˜è®¤<code>fallback</code>æ˜¯è®©è¶…è¿‡<code>limit</code>çš„èµ„æº,ä½¿ç”¨<code>file-loader</code>å¤„ç†,ä¸”é…ç½®å¯ä»¥ä¼ é€’è¿‡å»,ä¸Šé¢çš„<code>outputPath</code>ç­‰ä¾ç„¶å¯¹<code>file-loader</code>ç”Ÿæ•ˆ.</p><p><code>url-loader</code>è¿˜å¯ä»¥å•ç‹¬æŒ‡å®šå›è°ƒçš„<code>loader</code>,å¦‚æœä½ ä¸æƒ³ç”¨<code>file-loader</code>,æƒ³ç”¨ä¾‹å¦‚<code>responsive-loader</code>çš„è¯ä¹Ÿæ˜¯å¯ä»¥çš„.</p><h1 id="">å¤šå…¥å£è®¾ç½®</h1><p>ä¹‹å‰è°ˆè®ºçš„é…ç½®ä¸­,ä¸€ç›´ä½¿ç”¨å•ä¸€çš„<code>entry point</code>,é»˜è®¤ä»<code>src/index.js</code>ä½œä¸ºèµ·ç‚¹.</p><p>æŸäº›åœºæ™¯ä¸‹,å¦‚æœä½ éœ€è¦å¤šä¸ª<code>entry point</code>ä¹Ÿæ˜¯å¯ä»¥çš„ .</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">// webpack.common.js
const path = require(&#x27;path&#x27;);
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  entry: {
    // å¤šä¸ª,æ¯ä¸ªéƒ½è®©keyä½œä¸ºæœ€åæ‰“åŒ…æ³¨å…¥çš„å˜é‡name
    main: &#x27;./src/index.js&#x27;,
    other: &#x27;./src/other.js&#x27;
  }, // å…¥å£ç‚¹
  // ...other
};
// ä¿®æ”¹ webpack.dev.js
const path = require(&#x27;path&#x27;);
const common = require(&quot;./webpack.common&quot;);
const {merge} = require(&quot;webpack-merge&quot;)

module.exports = merge(common, {
  mode: &#x27;development&#x27;,
  output: {
    publicPath: &#x27;&#x27;,
    path: path.resolve(__dirname, &#x27;out&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
    filename: &#x27;[name].[contenthash].js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  }
});</code></pre></div></div></details><p>ç°åœ¨,æ‰“åŒ…çš„<code>index.html</code>å†…:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;

  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;webpack learning&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h1&gt;Start......&lt;/h1&gt;
    &lt;script src=&quot;main.3566bb7a2fe712fb86ed.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;other.5cb71429ff79cddc2f96.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;

&lt;/html&gt;</code></pre></div></div></details><p>æœ‰æ—¶å€™,å¹¶ä¸æƒ³è®©æ‰€æœ‰å†…å®¹éƒ½å†™å…¥<code>main.balabala.js</code>ä¸­,å¯ä»¥å°†ç‹¬ç«‹çš„ä¸€éƒ¨åˆ†æ‰“åŒ…åˆ°å¦ä¸€ä¸ªå…¥å£æ–‡ä»¶,è¿™ä¹Ÿæ˜¯ä¸€ç§éœ€æ±‚è¡ç”Ÿçš„è§£å†³æ–¹æ¡ˆ.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>å¤šä¸ªå•ç‹¬çš„<code>link</code>æˆ–è€…<code>script</code>æ ‡ç­¾ä¸‹,æµè§ˆå™¨å¹¶è¡Œä¸‹è½½å¤šä¸ªæ–‡ä»¶,æ—¶é—´å–å†³äºæœ€å¤§çš„é‚£ä¸ªæ–‡ä»¶,æœ‰æ—¶å€™å¯ä»¥å¯¹æ­¤è¿›è¡Œä¼˜åŒ–é€Ÿåº¦.åç»­ä¼˜åŒ–éƒ¨åˆ†å†æ.</p></div></div><h1 id="-css-">ä¼˜åŒ– CSS å¼•å…¥æ–¹æ¡ˆ</h1><p>ä¹‹å‰æˆ‘ä»¬é€šè¿‡<code>import</code>æˆ–è€…<code>require</code>çš„æ–¹å¼å¼•å…¥<code>css</code>,å¹¶ä¸”ç”¨<code>js</code>çš„æ–¹å¼æ³¨å…¥åˆ°æœ€ç»ˆ<code>DOM</code>ä¸­å»,åˆ›å»º<code>style</code>çš„<code>tag</code>.</p><p>æœ‰ä¸€ä¸ªé—®é¢˜.</p><p>æ‰“åŒ…çš„<code>js</code>æ–‡ä»¶æ”¾åœ¨<code>body</code>çš„åº•éƒ¨,é‚£ä¹ˆ<code>css</code>æ•ˆæœåŠ¿å¿…åœ¨æœ€åæ‰ä½“ç°å‡ºæ¥.å¹¶ä¸”<code>css</code>æ–‡ä»¶å¯ä»¥ç¼“å­˜,æ—¢å‡å°äº†<code>bundle</code>çš„å¤§å°,åˆæé«˜é¡µé¢æ¸²æŸ“çš„é€Ÿåº¦.</p><p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ç›´æ¥é€šè¿‡<code>link</code>å¼•å…¥å•ç‹¬çš„<code>css</code>çš„æµç¨‹.</p><p>å“¦ä¸,æ˜¯æ¥å›é¡¾ä¸€ä¸‹æµè§ˆå™¨æ¸²æŸ“åŸç†,æˆ‘æ‰¾äº†ä¸€ç¯‡éå¸¸å¥½çš„åšå®¢æ–‡ç« .</p><p><a href="https://github.com/ljianshu/Blog/issues/51">æ·±å…¥æµ…å‡ºæµè§ˆå™¨æ¸²æŸ“åŸç† Â· Issue #51 Â· ljianshu/Blog</a></p><p>ç°åœ¨,æˆ‘ä»¬çŸ¥é“äº†,å¦‚æœä½ çš„<code>css</code>ä¸æ˜¯éå¸¸å°éƒ¨åˆ†çš„å†…å®¹çš„è¯,å•ç‹¬å¼•å…¥çš„ä¼˜åŠ¿<code>css</code>è„±ç¦»æ•´ä½“,å•ç‹¬ä¸‹è½½,èƒ½åˆ©ç”¨åˆ°æµè§ˆå™¨å¤šçº¿ç¨‹çš„ä¼˜åŠ¿,å‡å°‘èµ„æºæ‹‰å–çš„æ—¶é—´.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">// webpack.prod.js
// ç”Ÿäº§æ¨¡å¼,æ‰“åŒ…æˆå•ç‹¬çš„cssæ–‡ä»¶
const path = require(&#x27;path&#x27;);
const common = require(&quot;./webpack.common&quot;);
const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;);

const { merge } = require(&quot;webpack-merge&quot;)

module.exports = merge(common, {
  mode: &#x27;production&#x27;,
  output: {
    path: path.resolve(__dirname, &#x27;dist&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: &quot;css/[name].[hash].css&quot;,
    })
  ],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          MiniCssExtractPlugin.loader, // 3. extract css into files
          &#x27;css-loader&#x27;, // 2. turns css into commonjs
          &#x27;sass-loader&#x27; // 1. turns sass into css
        ]
      }
    ]
  }
});</code></pre></div></div></details><p>å¯èƒ½ä¼šå¼•å‘ä¸€äº›é—®é¢˜,ä¾‹å¦‚å•ç‹¬çš„<code>css</code>æ–‡ä»¶å¤ªå¤š,æµè§ˆå™¨äº§ç”Ÿå¾ˆå¤š<code>http</code>è¯·æ±‚,æœåŠ¡å™¨æ–¹é¢éœ€è¦åšå‡ºéå¸¸å¤šçš„å“åº”,åœ¨ç”¨æˆ·é‡å¾ˆå¤§çš„æƒ…å†µä¸‹,ä¹Ÿè®¸ä¸æ˜¯ä¸€ä¸ªè‰¯å¥½çš„é€‰æ‹©.</p><p>è¿™ä¸ªæ—¶å€™,åˆå¹¶ä¸€äº›<code>css</code>åˆ°ä¸€ä¸ª<code>css</code>æ–‡ä»¶,è®©æ•´ä½“æ–‡ä»¶æ•°é‡å‡å°‘,å•æ–‡ä»¶å˜å¤§,åªè¦æ¯”<code>chunk</code>åŒ…å°,åŠ è½½æ—¶é—´ä¸€èˆ¬å°±ä¸ä¼šè¶…è¿‡ä¸»è¦çš„<code>js</code>æ–‡ä»¶.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>production æ¨¡å¼é»˜è®¤å¯¹æ„å»ºå†…å®¹è¿›è¡Œå‹ç¼©,å¼€å‘æ¨¡å¼åˆ™æ— æ‰€è°“,ä¸€èˆ¬ä¸å‹ç¼©.</p></div></div><h1 id="">å…¼å®¹æ€§é€‰æ‹©</h1><p><strong>å…¼å®¹CSS</strong>:</p><p>é’ˆå¯¹ä¸åŒæµè§ˆå™¨å‚å•†çš„å®ç°,æˆ‘ä»¬å¯ä»¥ç”¨<code>postcss-loader</code>å’Œ<code>autoprefixer</code>å¢åŠ æ ·å¼å‰ç¼€æ¥å®ç°ä¸€å®šç¨‹åº¦çš„å…¼å®¹.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-bash"># å®‰è£…
$  yarn add -D postcss-loader autoprefixer</code></pre></div></div></details><p>é…ç½®<code>webpack.prod.js</code>:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">const path = require(&#x27;path&#x27;);
const common = require(&quot;./webpack.common&quot;);
const MiniCssExtractPlugin = require(&#x27;mini-css-extract-plugin&#x27;);

const { merge } = require(&quot;webpack-merge&quot;)

module.exports = merge(common, {
  mode: &#x27;production&#x27;,
  output: {
    path: path.resolve(__dirname, &#x27;dist&#x27;), // è¾“å‡ºç›®å½•, pathåº“çš„api
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: &quot;css/[name].[hash:8].css&quot;,
    })
  ],
  module: {
    rules: [
      {
        test: /\.sass$/,
        use: [
          MiniCssExtractPlugin.loader, // 4. extract css into files
          &#x27;css-loader&#x27;, // 3. turns css into commonjs
          &#x27;postcss-loader&#x27;, // 2. autoprefixer
          &#x27;sass-loader&#x27; // 1. turns sass into css
        ]
      }
    ]
  }
});</code></pre></div></div></details><p>å…ˆå°†<code>sass</code>è½¬è¯‘,å†ç”¨<code>postcss-loader</code>å¢åŠ å‰ç¼€.</p><p>å¦å¤–åˆ›å»º<code>postcss.conf.js</code>æŒ‡å®šæ’ä»¶ä¸º<code>autoprefixer</code>:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-js">// postcss.conf.js
module.exports = {
  plugins: [
    require(&#x27;autoprefixer&#x27;)
  ]
}</code></pre></div></div></details><p>å†ä¿®æ”¹<code>package.json</code>,å¢åŠ æµè§ˆå™¨æ”¯æŒåº¦é…ç½®:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">{
  &quot;name&quot;: &quot;webpack&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;license&quot;: &quot;MIT&quot;,
  &quot;sideEffects&quot;: [
    &quot;*.css&quot;,
    &quot;*.sass&quot;
  ],
  &quot;browserslist&quot;: [
    &quot;&gt; 1%&quot;,
    &quot;last 2 versions&quot;,
    &quot;not ie &lt;= 8&quot;
  ],
  &quot;scripts&quot;: {
    // è¿™é‡Œæ’ä¸€å˜´,windowsä¸‹ä¸æ”¯æŒç›´æ¥ä½¿ç”¨ rm å‘½ä»¤,å› ä¸ºscriptséƒ¨åˆ†æ˜¯ç»™ Unix ç³»ç»Ÿå†™çš„,åˆ é™¤æ–‡ä»¶å¤¹æˆ‘ä½¿ç”¨äº†rimraf,å…ˆç”¨npm install --save-dev rimrafå®‰è£…. 
    &quot;start&quot;: &quot;webpack serve --config webpack.dev.js&quot;,
    &quot;dev&quot;: &quot;rimraf out &amp;&amp; webpack --config webpack.dev.js&quot;,
    &quot;build&quot;: &quot;rimraf dist &amp;&amp; webpack --config webpack.prod.js&quot;,
    &quot;clean&quot;: &quot;rimraf dist &amp;&amp; rimraf out&quot;
  }  
}</code></pre></div></div></details><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>å¾ˆå¤šäººä½¿ç”¨ <code>clean-webpack-plugin</code> æ¥æ¸…ç†æ–‡ä»¶å’Œç›®å½•,ä¸”æ­¤æ’ä»¶å¯ä»¥å¿½ç•¥ä¸éœ€è¦æ¸…ç†çš„ç›®å½•å’Œæ–‡ä»¶,éå¸¸æ–¹ä¾¿.</p></div></div><p><strong>å…¼å®¹JS</strong>:</p><p>è¿˜æ˜¯å› ä¸ºä¸åŒæµè§ˆå™¨å‚å•†çš„æ”¯æŒåº¦å’Œå®ç°ä¸ä¸€çš„é—®é¢˜,ä¸”å¦‚æœä½ æƒ³ä½¿ç”¨<code>ECMAScript</code>æ¯”è¾ƒæ–°çš„è¯­æ³•,è€Œç±»ä¼¼<code>IE</code>æµè§ˆå™¨ä¸æ”¯æŒ,æˆ–è€…å…¶ä»–æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒ.</p><p>è¿™æ—¶å€™éœ€è¦ä½¿ç”¨ç±»ä¼¼<code>babel</code>è¿™äº›å·¥å…·å¯¹æˆ‘ä»¬çš„<code>js</code>ä»£ç è¿›è¡Œå¤„ç†,å¢åŠ <code>polyfill</code>.</p><p><strong>babel</strong>è½¬æ¢çš„æ˜¯è¯­æ³•,è€Œä¸æ˜¯<code>API</code>,åªæœ‰å¼•å…¥äº†è¯­æ³•<code>polyfill</code>æ‰èƒ½å°†æ–°çš„<code>API</code>ä»£ç è¿›è¡Œè½¬æ¢,è®©æŒ‡å®šèŒƒå›´çš„è¿è¡Œç¯å¢ƒç¨³å®šè¿è¡Œæˆ‘ä»¬çš„ä»£ç .</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p><a href="https://www.babeljs.cn/docs/">Babel Doc</a>: Babel æ˜¯ä¸€ä¸ªå·¥å…·é“¾ï¼Œä¸»è¦ç”¨äºå°† <code>ECMAScript 2015+</code>ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨å’Œå…¶ä»–ç¯å¢ƒä¸­.</p></div></div><p>å®‰è£…<code>babel</code>ä¾èµ–:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-bash">$ yarn add  -D @babel/core @babel/preset-env @babel/plugin-transform-runtime babel-loader
$ yarn add @babel/runtime @babel/runtime-corejs3</code></pre></div></div></details><p><code>babel7</code>æ”¯æŒå¤šç§é…ç½®ç±»å‹,æ¯”å¦‚:</p><ul><li><p>babel.config.js</p></li><li>.babelrc</li><li>.babelrc.js</li><li>.babelrc.json</li><li>...</li></ul><p><code>@babel/preset-env</code>æ˜¯<code>babel</code>æ¨èçš„é¢„è®¾åŠŸèƒ½,å†…ç½®äº†å¸¸ç”¨æ’ä»¶æ¥æ”¯æŒ<code>polyfill</code>,ç”¨æˆ·å¯ä»¥æ ¹æ®<code>target</code>æŒ‡å®šç¯å¢ƒå»ä½¿ç”¨å¯¹åº”çš„æ’ä»¶.</p><p><code>core.js</code>æ˜¯ä¸€ä¸ª<code>JavaScriptæ ‡å‡†åº“</code>çš„<code>polyfill</code>.<code>@babel/preset-env</code>ä¾èµ–äº<code>core.js</code>.</p><p>æ¨èå•ç‹¬åˆ›å»ºä¸€ä¸ª<code>.babel.config.js</code>æ–‡ä»¶.</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">module.exports = {
  presets: [
    [
      &quot;@babel/preset-env&quot;,
      {
        // æŒ‰éœ€å¼•å…¥
        &quot;useBuiltIns&quot;: &quot;usage&quot;,
        // &quot;targets&quot;: &quot;defaults&quot;,  å»ºè®®å…³äºtargetséƒ½ä½¿ç”¨package.json ä¸­çš„browserslisté…ç½®.å¯ä»¥å…±ç”¨ç»™postcssçš„æ’ä»¶.
        &quot;corejs&quot;: 3 // version 3, é»˜è®¤å¡«å……è§„èŒƒ,å¯ä»¥å¼€å¯å¡«å……ææ¡ˆ.å»ºè®®ä¸ä¼˜å…ˆä½¿ç”¨ä½“éªŒè¯­æ³•,æ¯•ç«Ÿææ¡ˆå§‹ç»ˆå­˜åœ¨è¢«æ”¾å¼ƒçš„å¯èƒ½æ€§,è¿™äº›ææ¡ˆä¾ç„¶éœ€è¦æ—¶é—´å’Œè€ƒéªŒ.
      }
    ]
  ],
  plugins: [
    [
      &quot;@babel/plugin-transform-runtime&quot; // ç”¨äºå‡å°‘ä»£ç ä½“ç§¯,babel-loaderçš„æ–‡æ¡£æœ‰ä»‹ç»å¦‚ä½•è§£å†³å…³é”®çš„ä¸¤ä¸ªé—®é¢˜,è¿™æ˜¯å…¶ä¸­ä¹‹ä¸€.ä½¿ç”¨æ­¤æ’ä»¶,é¢„è®¾polyfillä¸ä¼šç›´æ¥æ³¨å…¥åˆ°å…¨å±€å˜é‡ä¸­.
    ]
  ]
}</code></pre></div></div></details><p><code>webpack</code>æ–¹é¢çš„é…ç½®:</p><details open=""><summary class="Code_summary__2YXsZ">Details</summary><div class="Code_container__2ip2n"><div class="Code_header__6pHWW"><div class="CopyCode_normal__JylQA"><div style="cursor:pointer"><svg viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M11 1.5h2.5v12a1 1 0 01-1 1h-10a1 1 0 01-1-1v-12H4m.5-1h6v2a1 1 0 01-1 1h-4a1 1 0 01-1-1v-2z" stroke="currentColor"></path></svg></div></div></div><div class="Code_code_area__GjtJr"><div class="Code_line_num__3uYIf"><ul></ul></div><pre class="Code_code__1ValO"><code class="lang-json">const path = require(&#x27;path&#x27;);
let HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;);

module.exports = {
  entry: {
    main: &#x27;./src/index.js&#x27;,
    other: &#x27;./src/other.js&#x27;
  }, // å…¥å£ç‚¹
  output: {
    filename: &#x27;js/[name].[contenthash].js&#x27; // è¾“å‡ºæ„å»ºæ–‡ä»¶å
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: &quot;./src/template.html&quot;
    })
  ],
  module: {
    rules: [
      {
        test: /\.html$/i,
        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader
        loader: &#x27;html-loader&#x27;
      },
      {
        test: /\.(jpg|png|gif|jpeg|svg|ico)$/,
        use: {
          loader: &#x27;url-loader&#x27;,
          options: {
            limit: 8192,
            outputPath: &#x27;imgs&#x27;,
            publicPath: &#x27;cdn.example.com/static/imgs&#x27;
          }
        }
      },
      {
        test: /\.jsx?$/,
        exclude: /(node_modules|bower_components)/, // æ’é™¤éƒ¨åˆ†,æé«˜é€Ÿåº¦
        use: {
          loader: &#x27;babel-loader&#x27; // æŒ‡å®šloader,é…ç½®é€šè¿‡babel.config.jså»è®¾ç½®
        },
      }
    ]
  }
};</code></pre></div></div></details><p>ä¹Ÿè®¸ä½ å¬è¿‡<code>babel</code>é’ˆå¯¹<code>stage-x</code>çš„æ”¯æŒåº¦è®¾ç½®,ä½†æ˜¯åœ¨<code>babel7</code>å<code>preset-env</code>å·²ç»æ”¯æŒå®Œå…¨æ›¿æ¢<code>babel-preset-es2015</code>~<code>babel-preset-latest</code>.</p><div class="css-1xvrksk"><div class="css-1v59okt"><svg viewBox="0 0 36 36"><path fill="#FFAC33" d="M8.916 12.88c-.111 1.652 1.768 3.126-.712 2.959-2.48-.167-7.836-2.533-7.768-3.53s3.708-2.757 6.188-2.59c2.48.166 2.404 1.508 2.292 3.161zm20.122 16.049c-.202-.032-.392.015-.564.095-2.325.232-3.225-1.885-3.225-1.885-.439-.336-.981-2.009-1.589-1.215l.187 1.402c.187 1.402 2.57 3.224 2.57 3.224l-1.215 1.589c-.336.439-.252 1.066.187 1.402.439.336 1.066.252 1.402-.187l.673-.88-.039.249c-.087.546.285 1.058.831 1.145.546.087 1.058-.285 1.145-.831l.47-2.963c.085-.546-.287-1.058-.833-1.145zm-6.278.623c-.196-.058-.39-.037-.572.018-2.335-.082-2.944-2.3-2.944-2.3-.39-.392-.703-2.123-1.412-1.417l-.003 1.414c-.003 1.414 2.115 3.539 2.115 3.539l-1.417 1.412c-.392.39-.393 1.023-.003 1.414.39.392 1.023.393 1.414.003l.785-.782-.073.242c-.159.529.141 1.086.67 1.246.529.159 1.087-.141 1.246-.67l.862-2.873c.162-.53-.138-1.087-.668-1.246z"></path><path fill="#DD2E44" d="M35.009 6.729c-.383-.17-.758-.057-1.05.244-.054.056-4.225 6.306-14.532 4.944-.34-.045 3.139 11.968 3.199 11.962.124-.014 3.07-.368 6.14-2.553 2.818-2.005 6.284-5.991 6.797-13.598.028-.418-.171-.828-.554-.999z"></path><path fill="#DD2E44" d="M34.477 21.108c-.204-.336-.59-.56-.979-.471-1.293.295-3.197.543-4.53.453-6.357-.428-9.361-4.129-9.392-4.16-.275-.282.466 11.552.816 11.576 9.194.62 13.862-6.027 14.057-6.31.222-.326.233-.751.028-1.088z"></path><path fill="#DD2E44" d="M24.586 19.016c-.371 5.51 1.316 9.861-4.194 9.489-5.51-.371-10.145-4.92-9.774-10.431s14.34-4.568 13.968.942z"></path><path fill="#DD2E44" d="M23.257 12.412c-.353 5.235-3.922 9.257-9.156 8.904-5.235-.353-9.193-4.882-8.84-10.117.353-5.235 4.832-8.444 10.067-8.091 4.001.269 8.24 4.683 7.929 9.304z"></path><circle fill="#292F33" cx="10.67" cy="8.989" r="2"></circle><path fill="#A0041E" d="M18.179 16.645s7.63 5.648 12.387-4.459c.396-.842 1.685.793.099 4.162s-8.175 6.44-12.04 1.536c-.815-1.035-.446-1.239-.446-1.239z"></path><path fill="#DD2E44" d="M15.327 3.107s6.246.254 7.798-.477.136 2.932-3.262 3.789-4.536-3.312-4.536-3.312z"></path><path fill="#DD2E44" d="M17.428 5.788s4.501.136 6.054-.594.136 2.932-3.262 3.789c-3.399.857-2.792-3.195-2.792-3.195z"></path></svg></div><div class="css-pbmhrg"><p>æˆ‘è§‰å¾—å›¢é˜Ÿå¼€å‘åªåº”è¯¥ä½¿ç”¨çº³å…¥å¹´åº¦ç‰ˆæœ¬ä¸­çš„ææ¡ˆ,æš‚æœªçº³å…¥å¹´åº¦ç‰ˆæœ¬ä¸­çš„ç‰¹æ€§å­˜åœ¨ç€ä¸ä¼šæˆä¸º<code>js</code>ä¸€éƒ¨åˆ†çš„å¯èƒ½æ€§.</p></div></div><h1 id="">æœ€å...</h1><p>è¿˜æœ‰å¾ˆå¤šå†…å®¹å¹¶æœªå†™å‡ºæ¥,æš‚æ—¶å†™åˆ°è¿™é‡Œ,åç»­å†æ ¹æ®é¡¹ç›®è¿›è¡Œåˆ†æå’Œæ·±å…¥å­¦ä¹ ,å†è§.</p><h1 id="">ä¼˜åŒ–</h1><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„é—®é¢˜,éœ€è¦æˆ‘è¿›ä¸€æ­¥é…åˆé¡¹ç›®è¿›è¡Œæ·±å…¥å­¦ä¹ ,ä»¥ä¸‹æ˜¯æˆ‘æƒ³åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹.</p><ul><li>ä½¿ç”¨<code>ParallelUglifyPlugin</code>ä»£æ›¿é»˜è®¤å‹ç¼©æ’ä»¶</li><li>ä½¿ç”¨<code>swc</code>ä»£æ›¿<code>babel</code>è¿›è¡Œç¼–è¯‘</li><li>ä½¿ç”¨<code>cdn</code>å¯¹éƒ¨åˆ†èµ„æºè¿›è¡Œå¼•ç”¨,å‡å°æ‰“åŒ…çš„å¤§å°.</li><li>ä½¿ç”¨ç¼“å­˜æ’ä»¶,å‡å°‘ä¸å¿…è¦çš„é‡å¤æ‰“åŒ….</li><li>ä½¿ç”¨åŠ¨æ€å¯¼å…¥æœºåˆ¶,å‡å°æ‰“åŒ…å¤§å°.</li></ul><h1 id="">å‚è€ƒ</h1><ul><li><p><a href="https://www.webpackjs.com/">webpack ä¸­æ–‡æ–‡æ¡£ | webpack ä¸­æ–‡ç½‘</a></p></li><li><p><a href="https://babeljs.io/docs/en/">What is Babel? Â· Babel</a></p></li><li><a href="https://juejin.cn/post/6844904132294213639">å¸¦ä½ ä¸€æ­¥ä¸€æ­¥é…ç½®Babel7</a></li><li><a href="https://github.com/browserslist/browserslist">browserslist/browserslist: ğŸ¦” Share target browsers between different front-end tools, like Autoprefixer, Stylelint and babel-preset-env</a></li><li><a href="https://juejin.cn/post/6844903937900822536">[è¯‘]Babelæ–‡æ¡£ä¹‹@babel/preset-env</a></li><li><a href="https://segmentfault.com/a/1190000038324347#">ä¸€æ–‡ææ‡‚Babelé…ç½® - SegmentFault æ€å¦</a></li><li><a href="https://github.com/ljianshu/Blog/issues/51">æ·±å…¥æµ…å‡ºæµè§ˆå™¨æ¸²æŸ“åŸç† Â· Issue #51 Â· ljianshu/Blog</a></li></ul></div></div></div></main><style data-emotion-css="1fic0ux">.css-1fic0ux{border:0;opacity:0.6;border-bottom:0.0625rem solid;width:auto;margin-top:0.5rem;margin-bottom:0.5rem;border-color:inherit;}</style><hr class="css-1fic0ux"/><style data-emotion-css="1w0yaz1">.css-1w0yaz1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;max-width:1100px;margin:0 auto;}@media screen and (min-width:30em){.css-1w0yaz1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}@media screen and (min-width:48em){.css-1w0yaz1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}@media screen and (min-width:62em){.css-1w0yaz1{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><div class="css-1w0yaz1"><style data-emotion-css="5ez2yz">.css-5ez2yz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:440px;margin:2rem auto;}</style><div class="css-5ez2yz"><style data-emotion-css="bi78j0">.css-bi78j0{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";margin-bottom:0.5rem;}</style><p class="css-bi78j0">å‹é“¾</p><style data-emotion-css="2imjyh">.css-2imjyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><div class="css-2imjyh"><style data-emotion-css="y9ryki">.css-y9ryki{font-size:calc(3rem / 2.5);line-height:3rem;vertical-align:top;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:9999px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;width:3rem;height:3rem;background-color:#A0AEC0;color:#fff;}</style><div style="cursor:pointer" class="css-y9ryki"><style data-emotion-css="uwwqev">.css-uwwqev{width:100%;height:100%;}</style><div class="css-uwwqev"><svg fill="#fff" viewBox="0 0 128 128" role="img"><g><path d="M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"></path><path d="M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"></path></g></svg></div></div></div></div><style data-emotion-css="1a1kbs3">.css-1a1kbs3{margin:2rem;text-align:center;margin-left:auto;}</style><div class="css-1a1kbs3"><p id="msg">è°¢è°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œ!<span role="img" aria-label="emoji">ğŸ¤—</span>Â å¦‚æœä½ æœ‰ä»»ä½•æƒ³ä¸æˆ‘è®¨è®ºçš„å†…å®¹,è¯·ç»™æˆ‘å‘é‚®ä»¶.<span role="img" aria-label="emoji">ğŸ•Š</span></p><br/><a style="text-decoration:none" href="mailto:rivenqinyy@gmail.com"><style data-emotion-css="meafa5">.css-meafa5{display:inline-block;padding-left:0.25rem;padding-right:0.25rem;text-transform:uppercase;font-size:0.75rem;border-radius:0.125rem;font-weight:700;white-space:nowrap;vertical-align:middle;background-color:#c6f6d5;color:#22543d;}</style><div class="css-meafa5">æˆ‘çš„é‚®ä»¶</div><span role="img" aria-label="my email">ğŸ“®</span></a><br/><br/><style data-emotion-css="1fb5c92">.css-1fb5c92{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";color:#4A5568;font-size:.7rem;}</style><p class="css-1fb5c92">å¦™æ‰ Â© 2020. All rights reserved.</p></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"slug":"å­¦ä¹ webpack","content":"\n2021å¹´01æœˆ13æ—¥00:33:47 ä¼‘æ¯äº†,æ—©èµ·,å°½é‡æ…¢æ…¢ä¸è¦ç†¬å¤œ.\n\n# æ–°æ‰‹çœ¼é‡Œçš„ webpack\n\n\u003e é‚£ä¹ˆ webpack æ˜¯ä»€ä¹ˆ?\n\nç®€å•æ¥è¯´,webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·.\n\n![](https://www.ma-no.org/cache/galleries/contents-1806/webpack-how-it-works.jpeg)\n\næˆ‘ä»¬åœ¨åˆ›å»ºä¸ºé¡¹ç›®ç¼–å†™ä»£ç çš„æ—¶å€™,ä¼šç”¨åˆ°éå¸¸å¤šçš„ç´ æå’Œä»£ç æ–‡ä»¶.ä½†æ˜¯ç±»ä¼¼`sass`æˆ–è€…`typescript`ç­‰æŠ€æœ¯éœ€è¦é€šè¿‡ä¸€äº›å¿…è¦çš„å·¥å…·è½¬è¯‘æˆ–è€…ç¼–è¯‘ä¸ºæ„å»ºé¡¹ç›®çš„åŸºç¡€å†…å®¹.\n\nå°±åƒ`sass`éœ€è¦è½¬ä¸º`css`æ–‡ä»¶,`typescript`éœ€è¦è½¬åŒ–ä¸º`js`ä»£ç ,è€Œ`js`ä»£ç åˆé‡åˆ°äº†æ–°çš„é—®é¢˜.\n\n`js`ä¸€ç›´åœ¨ä¸æ–­å‘å±•,æ–°çš„åŠŸèƒ½è¢«å›½é™…åŒ–ç»„ç»‡åˆ¶å®šå’Œæ¨å¹¿å¼€æ¥,ä½œä¸ºå¹¿å¤§å¼€å‘è€…ä¹‹ä¸€,æˆ‘å¾ˆå¼€å¿ƒèƒ½ä½¿ç”¨`ECMAScript`çš„æœ€æ–°ç‰¹æ€§,è¿™äº›ç‰¹æ€§ä¸ºæˆ‘æä¾›äº†å¼ºåŠ›çš„åŠŸèƒ½,å‡å°‘äº†æˆ‘çš„æ—¥å¸¸å¼€å‘å·¥ä½œé‡,æé«˜æ•ˆç‡,å¢å¼ºä»£ç çš„`ç¾æ„Ÿ`å’Œ`å¯è¯»æ€§`.\n\nä¸¾ä¸ªä¾‹å­,ä¸åŒæµè§ˆå™¨å‚å•†å¯¹æœ€æ–°çš„`ECMAScript`æ ‡å‡†æ”¯æŒåº¦ä¸åŒ,å¯¹è§„èŒƒä¸­å°‘æ•°å¹¶æœªå£°æ˜çš„ç»†èŠ‚çš„æŠ€æœ¯å®ç°ä¹Ÿä¸å°½ç›¸åŒ,ç”šè‡³,è¢«å¹¿å¤§å¼€å‘è€…è¯Ÿç—…çš„`IE`æµè§ˆå™¨,åœ¨å…¶`11`ç‰ˆæœ¬ä¸­è¿2015å¹´åˆ¶å®šçš„`ES6`è§„èŒƒéƒ½ä¸å®Œå…¨æ”¯æŒ(å°½ç®¡æœ‰ä»–è‡ªå·±çš„é™åˆ¶,æˆ‘ä»¬ä¹Ÿåº”è¯¥æ„Ÿæ¿€å’Œå°Šé‡ä»–),`IE 11`åœ¨ä»Šå¹´8æœˆä»½ä¸å†å—å¾®è½¯çš„æ›´æ–°å’Œæ”¯æŒ,åç»­å¾®è½¯å°†è½¬æˆ˜`EDGE`.\n\nå¼€å‘è€…ä¸ºäº†æ»¡è¶³ä¸åŒç”¨æˆ·çš„éœ€è¦,éœ€è¦ä¸ºä¸åŒæµè§ˆå™¨åšå…¼å®¹æ€§å¼€å‘,äºæ˜¯ä¸åŒçš„`polyfill`åº”è¿è€Œç”Ÿ,ç®€å•æ¥è¯´å°±æ˜¯å¼€å‘è€…æä¾›ä¸€äº›ä»£ç æ¨¡æ‹Ÿæµè§ˆå™¨æš‚æœªæ”¯æŒçš„è¯­æ³•ç‰¹æ€§ç­‰ç­‰,åŠ è½½äº†è¿™äº›è¡¥å……æ€§çš„ä»£ç ,æˆ‘ä»¬ç»ˆäºå¯ä»¥ä½¿ç”¨ä¸€å¥—`ECMAScript`è§„èŒƒè¿›è¡Œå¼€å‘.\n\n\u003e æ‡’æƒ°ä½¿äººè¿›æ­¥.\n\næˆ‘ç›¸ä¿¡é‚£äº›ç»é¡¶çš„æŠ€æœ¯å¤§ç‰›éƒ½æ˜¯å¾ˆæ‡’æƒ°çš„,è¿™äº›é‡å¤ç¹æ‚ä¸”æ— è¶£çš„å·¥ä½œ,å°±åº”è¯¥äº¤ç»™æœºå™¨è‡ªåŠ¨å¤„ç†.äºæ˜¯ä¹,å„ç§å¼€å‘è¾…åŠ©å·¥å…·å’Œåº“å‡ºç°äº†.\n\n\u003e åœ¨æŠ€æœ¯çš„åœˆå­é‡Œ,æŠ€æœ¯æ˜¯å¼€å‘è€…è¢«äººå°Šæ•¬çš„ç»å¯¹åŸå› ä¹‹ä¸€. (ä¸ªäººè§‚ç‚¹)\n\né«˜æ•ˆåœ°åº”ç”¨`webpack`è¿›è¡Œè¾…åŠ©å¼€å‘,å®šåˆ¶åŒ–è‡ªå·±å’Œå›¢é˜Ÿçš„é…ç½®,èƒ½è®©æˆ‘ä»¬å‡å°‘è®¸å¤šæ¯ç‡¥çš„å·¥ä½œå†…å®¹,æé«˜æ•ˆç‡.\n\nè¯è¯´å›æ¥,æ­£å¦‚ä¸Šé¢çš„é‚£å¼ å›¾ä¸€æ ·, `webpack` å¯ä»¥å¯¹ä¸åŒæ‰©å±•åçš„æ–‡ä»¶é’ˆå¯¹æ€§çš„è¿›è¡Œå¤„ç†,éœ€è¦è½¬åŒ–çš„å°±ä½¿ç”¨ç›¸åº”é»˜è®¤æˆ–è€…æŒ‡å®šçš„å·¥å…·æˆ–è€…åŠŸèƒ½å»è½¬åŒ–.\n\n`webpack`åŠŸèƒ½å¼ºå¤§,ä»é¡¹ç›®åˆå§‹åŒ–,åˆ°å¼€å‘,è§„èŒƒåŒ–,åŠŸèƒ½å®šåˆ¶å’Œæµ‹è¯•,èµ„æºç®¡ç†å’Œæ„å»ºå‹ç¼©éƒ½èƒ½é€šè¿‡ç‹¬ç‰¹çš„é…ç½®å’Œå…¶ç”Ÿæ€ä¸­åºå¤§çš„èµ„æºæ¥æ”¯æŒæˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½,å¤„ç†ç‰¹å®šé—®é¢˜.\n\næœ€å,æ‰“åŒ…å‡ºå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒçš„èµ„æº.\n\nè¯ä¸å¤šè¯´,è®©æˆ‘å†æ¬¡ä¸€æ­¥æ­¥å­¦ä¹ ä½¿ç”¨`webpack`æ„å»ºå¼€å‘å·¥ä½œæµå’Œç†Ÿæ‚‰å…¶å·¥ä½œåŸç†.\n\n# å®‰è£…ä½¿ç”¨\n\né¦–å…ˆ,åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç›®å½•,è¿›å…¥å¹¶ä¸”åˆå§‹åŒ–é¡¹ç›®.\n\n```BASH\n# åˆå§‹åŒ–é¡¹ç›®,å®‰è£…ä¾èµ–\n$ yarn init -y\n$ yarn add -D webpack webpack-cli\n```\n\n æ¥ä¸‹æ¥çœ‹çœ‹`package.json`æ–‡ä»¶çš„å†…å®¹:\n\n```json\n{\n  \"name\": \"webpack\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"webpack\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"webpack\": \"^5.15.0\",\n    \"webpack-cli\": \"^4.3.1\"\n  }\n}\n```\n\nå½“å‰`webpack`ä¸º`5.15.0`ç‰ˆæœ¬,åœ¨`scripts`è¿™é‡Œå†™å…¥äº†ä¸€ä¸ª`dev`é¡¹,äºæ˜¯æˆ‘ä»¬ä¾¿å¯ä»¥ä½¿ç”¨`yarn dev`è°ƒç”¨`webpack`äº†.\n\nå†æ¬¡é‡ç”³,`webpack`å¹¶æœªå…¨å±€å®‰è£…,è€Œæ˜¯å®‰è£…åœ¨é¡¹ç›®ç›®å½•,ä½ å¯ä»¥åœ¨`node_modules`ç›®å½•ä¸­çœ‹åˆ°å®ƒ,é€šè¿‡åœ¨`scripts`ä¸­è°ƒç”¨`webpack`,ä¼šè‡ªåŠ¨ä½¿ç”¨`npx webpack`è¿›è¡Œå¤„ç†.äºŒè€…æœ¬è´¨ä¸Šæ— å¤ªå¤§å·®åˆ«.è¿™æ˜¯`yarn`æˆ–è€…`npm`çš„æœºåˆ¶.\n\n\u003e æœ¬æ–‡ç»Ÿä¸€ä½¿ç”¨`yarn`è¿›è¡ŒåŒ…ç®¡ç†.\n\n`webpack`ä½œä¸ºä¸€ä¸ª`CLI`,å…¶é»˜è®¤æ”¯æŒäº†è®¸å¤šé…ç½®é¡¹,åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹,å¯ä»¥ç›´æ¥ä½¿ç”¨å…¶åŠŸèƒ½.ä¸è¿‡æˆ‘è§‰å¾—é™¤äº†æ¼”ç¤ºå…¶åŸºç¡€åŠŸèƒ½è¿™ç§åœºæ™¯å¤–,å¼€å‘è€…éƒ½ä¼šå¢å¼ºå’Œå®šåˆ¶å…¶é…ç½®.\n\n\u003e é»˜è®¤`webpack`ä¼šå°†é¡¹ç›®ç›®å½•ä¸‹çš„`src`ç›®å½•å†…çš„`index.js`æ‰“åŒ…åˆ°`dist`ä¸‹,é‡å‘½åä¸º`main.js`.\n\nä¸è¦åœ¨é»˜è®¤æœºåˆ¶ä¸Šæ­¢æ­¥ä¸å‰,ç»§ç»­.\n\n# åŸºç¡€é…ç½®\n\n`webpack`æ”¯æŒä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œå®šåˆ¶åŒ–åŠŸèƒ½,é€šå¸¸,å¼€å‘è€…ä»¬ä¹ æƒ¯å‘½åç¬¬ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸º`webpack.conf.js`.\n\næˆ‘ä»¬ä¸å¾—ä¸è¯´,`webpack`çš„ä¸€åˆ‡åŠŸèƒ½,éƒ½ä»ä¸€ä¸ª`entry`å¼€å§‹,è¿™ä¸ªå…¥å£ç‚¹æŒ‡æ˜äº†`webpack`åº”è¯¥ä»å“ªä¸€ä¸ªæ¨¡å—å¼€å§‹æ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾è°±.å¦‚ä¸Šæ‰€è¯´,è¿™ä¸ª`entry`é»˜è®¤æ˜¯`src/index.js`.\n\né»˜è®¤çš„è¾“å‡ºç›®å½•æ˜¯`dist`ç›®å½•,ä»¥åŠæ›´å¤šå†…å®¹å¾…ç»­.é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯:\n\n**æˆ‘ä»¬èƒ½åšæ›´å¤šçš„å®šåˆ¶**\n\næ¥çœ‹çœ‹ä¸€ä¸ªç®€å•çš„`webpack.conf.js`,è¿™ä¸ªæ–‡ä»¶å°†ä¼šè¢«`node`éšå¼è½½å…¥è¿è¡Œ:\n\n```js\nconst path = require('path');\n\nmodule.exports = {\n  entry: './src/index.js', // å…¥å£ç‚¹\n  output: {\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'my-first-webpack.bundle.js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  }\n};\n```\n\næ¥ç€,ä¿®æ”¹`package.json`çš„é…ç½®é¡¹:\n\n```json\n{\n  \"name\": \"webpack\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"webpack --config webpack.conf.js\" // æŒ‡å®šäº†é…ç½®æ–‡ä»¶\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"webpack\": \"^5.15.0\",\n    \"webpack-cli\": \"^4.3.1\"\n  }\n}\n```\n\nç°åœ¨,è¿›è¡Œæ„å»º:\n\n```powershell\nPS C:\\Users\\yy\\test\\webpack\u003e yarn dev\nyarn run v1.22.10\n$ webpack --config webpack.conf.js\nasset my-first-webpack.bundle.js 811 bytes [emitted] (name: main)\n./src/index.js 49 bytes [built] [code generated]\nwebpack 5.15.0 compiled successfully in 75 ms\nDone in 1.01s.\n\nPS C:\\Users\\yy\\test\\webpack\u003e ls .\\out\\\n\n    Directory: C:\\Users\\yy\\test\\webpack\\out\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a---           2021/1/17    15:13            811 my-first-webpack.bundle.js\n```\n\nç°åœ¨,æ„å»ºè¾“å‡ºçš„åˆ°äº†ç›®å½•`out`.å‘½åä¹Ÿä»`main.js`å˜æˆäº†æˆ‘ä»¬æŒ‡å®šçš„`my-first-webpack.bundle.js`.\n\næƒ³çœ‹çœ‹æ„å»ºç»“æœ?\n\n```js\n/*\n * ATTENTION: The \"eval\" devtool has been used (maybe by default in mode: \"development\").\n * This devtool is neither made for production nor for readable output files.\n * It uses \"eval()\" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with \"devtool: false\".\n * If you are looking for production-ready output files, see mode: \"production\" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() =\u003e { // webpackBootstrap\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\neval(\"const a = () =\u003e console.log('a')\\r\\nconsole.log(a);\\n\\n//# sourceURL=webpack://webpack/./src/index.js?\");\n/******/ })()\n;\n```\n\nå…¥å£ç‚¹çš„ä»£ç éå¸¸ç®€å•,æˆ‘å®šä¹‰äº†ä¸€ä¸ªç®€å•å‡½æ•°è€Œå·².`é€šå¸¸æƒ…å†µä¸‹`,ä½ å¯èƒ½å¹¶ä¸éœ€è¦é˜…è¯»æ„å»ºä¹‹åçš„ä»£ç ,å¹¶ä¸”æ„å»ºä¹‹åçš„ä»£ç å¯è¯»æ€§å®åœ¨æ˜¯æ²¡æ³•è·Ÿæºç ç›¸æ¯”,ä¸Šè¿°æ„å»ºå†…å®¹è¿˜æ²¡å‹ç¼©,å‹ç¼©ä¹‹åå°±æ›´æ²¡æ³•çœ‹äº†.\n\n\n\u003e webpack é»˜è®¤åªèƒ½è¯†åˆ«`JavaScript`æ–‡ä»¶.\n\n\n\n#  LOADER\n\nä¸ºäº†å¯¹å…¶ä»–ç±»å‹çš„æ–‡ä»¶è¿›è¡Œå¤„ç†å’Œå¤§åŒ…,`webpack`æä¾›äº†`loader`åŠŸèƒ½.å…³äº`loader`: \n\nloader èƒ½å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶é€šè¿‡ç‰¹å®šæ’ä»¶å’ŒåŠŸèƒ½,å°†å…¶è½¬åŒ–ä¸º`webpack`èƒ½æœ‰æ•ˆå¤„ç†çš„æ¨¡å—,ç„¶åå¼€å‘è€…å°±å¯ä»¥åˆ©ç”¨å…¶å¤§åŒ…åŠŸèƒ½è¿›è¡Œæ‰“åŒ….\n\n`loader`æœ‰ä¸¤ä¸ªå…³é”®é€‰é¡¹:\n\n- test: æ ‡è¯† loader è½¬æ¢çš„ç›®æ ‡æ–‡ä»¶,é€šå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œç±»å‹è¯´æ˜\n- use: ä½¿ç”¨å“ªä¸ªæˆ–è€…å“ªäº›`loader`\n\nç»§ç»­,é‚£ä¹ˆå¦‚ä½•å¤„ç†æˆ‘ä»¬å‰ç«¯å¼€å‘ç»•ä¸å¼€çš„`CSS`é—®é¢˜?`webpack`å¦‚ä½•å¤„ç†è¿™ä¸€åˆ‡?`loader`å¯ä»¥å—?\n\nç­”æ¡ˆæ˜¯è‚¯å®šçš„.\n\n# CSS \u0026 SASS\n\næˆ‘ä¸ªäººå–œæ¬¢`Sass`, è¿™é¡¹æŠ€æœ¯è®©æˆ‘ç¼–å†™`css`çš„æ—¶å€™æ›´è½»æ¾æ„‰å¿«.ä¸ºäº†è®©`Sass`æ–‡ä»¶äº§ç”Ÿæ•ˆæœ,éœ€è¦åšä¸‰ä»¶äº‹:\n\n- sassè½¬è¯‘æˆcss\n- cssè½¬æ¢æˆjs\n- jsæ³¨å…¥é¡µé¢DOM,æ„å»ºstyle\n\nä¸ºäº†å®ç°è¿™ä¸€éœ€æ±‚,æˆ‘ä»¬éœ€è¦ä¸‰ä¸ªå…³é”®`loader`:\n\n- style-loader: å°† CSS æ³¨å…¥ DOM ä¸­,è¯¦æƒ…: [style-loader | webpack](https://webpack.js.org/loaders/style-loader/)\n- css-loader:  è§£é‡Š `JS`ä¸­ä½¿ç”¨`esModule`çš„è¯­æ³•å¯¼å…¥`CSS`æ–‡ä»¶çš„è¡Œä¸º,æ”¯æŒæ›¿æ¢`CSS`æ–‡ä»¶ä¸­çš„`@import`å’Œ`url()`ä½¿ç”¨`import/require()`æ¥è§£æ.è¯¦æƒ…:[css-loader | webpack](https://webpack.js.org/loaders/css-loader/)\n- sass-loader: è½¬è¯‘`SASS`æ–‡ä»¶,è¿™é‡Œæä¸€ä¸‹æ”¯æŒå¯¼å…¥`node_modules`ä¸‹çš„`CSS`æ–‡ä»¶,è¯¦æƒ…:[sass-loader | webpack](https://webpack.docschina.org/loaders/sass-loader/)\n\nä»¥åŠå®‰è£…å¤šä¸ªä¾èµ–:\n\n```bash\nyarn add -D sass-loader sass style-loader css-loader\n```\n\næ¯ä¸€ä¸ª`loader`åŸºæœ¬ä¸Šéƒ½æ”¯æŒç‰¹å®šçš„é…ç½®,å¦‚æœé»˜è®¤é…ç½®ä¸æ”¯æŒå¼€å‘è€…éœ€è¦çš„åŠŸèƒ½ç‰¹æ€§,åˆ™æ¨èé˜…è¯»`loader`å®˜æ–¹æ–‡æ¡£å¯»æ±‚å¸®åŠ©.\n\nä»¥å¼€å‘æ¨¡å¼å®‰è£…ä¸‰ä¸ªåº“ä¹‹å,è¿›è¡Œ`webpack`é…ç½®:\n\n```js\nconst path = require('path');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.js', // å…¥å£ç‚¹\n  output: {\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'my-first-webpack.bundle.js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader' // æ³¨æ„é¡ºåº,åè€…å…ˆè¿›è¡Œå¤„ç†\n        ]\n      }\n    ]\n  }\n};\n```\n\n`Sass`åˆ°`CSS`,å†åˆ°`JS`,æœ€åæ³¨å…¥åˆ°`HTML DOM`ä¸­,æ·»åŠ `Style`å…ƒç´ ,å†…éƒ¨æ˜¯æ ·å¼.å½“ç„¶,å¦‚æœæƒ³è¦å•ç‹¬æ‰“åŒ…,ä¸æ³¨å…¥åˆ°`head`å…ƒç´ å†…çš„`style`å†…,è€Œæ˜¯é€šè¿‡å¸¸è§çš„`css link`å‘æŒ¥æ•ˆç”¨ä¹Ÿæ˜¯å¯ä»¥çš„.\n\n# ç¼“å­˜æ¸…ç†å’Œæ’ä»¶\n\nåœ¨å¼€å‘çš„æ—¶å€™,å¦‚æœç›¸å…³èµ„æºçš„åå­—ä¸å˜,æµè§ˆå™¨ç«¯å¯èƒ½ä¼šç›´æ¥ä»ç¡¬ç›˜è¯»å–ä¹‹å‰ç¼“å­˜çš„èµ„æº.ä¾‹å¦‚,æˆ‘ä»¬æ¯æ¬¡æ›´æ–°ä»£ç ,é‡æ–°æ„å»ºçš„å‡ºå£æ–‡ä»¶éƒ½æ˜¯`main.js`,é‚£ä¹ˆæµè§ˆå™¨ç«¯å¯èƒ½ä¼šä½¿ç”¨ç¼“å­˜,è€Œä¸æ˜¯æ¯æ¬¡éƒ½ä½¿ç”¨æœ€æ–°æ„å»ºçš„ç‰ˆæœ¬.\n\nåœ¨å¼€å‘è¿‡ç¨‹ä¸­,æˆ‘ä»¬å¯èƒ½ä¼šç»å¸¸çœ‹åˆ°ä¸€äº›å¸¦å“ˆå¸Œå€¼çš„æ–‡ä»¶å,ä¾‹å¦‚:`main.jkdajkd2jdai2i.js`.\n\n`webpack`æ”¯æŒè¾“å‡ºå¤§åŒ…çš„æ–‡ä»¶çš„æ—¶å€™,ä¸ºå‡ºå£æ–‡ä»¶æä¾›éšæœºçš„`hash`å€¼,ä½œä¸ºæœ€ç»ˆæ„å»ºæ–‡ä»¶çš„æ–‡ä»¶åçš„ä¸€éƒ¨åˆ†,è¿™ä¸€ç°è±¡éå¸¸å¸¸è§.\n\nè®©æ„å»ºçš„è¾“å‡ºæ–‡ä»¶åç”Ÿæˆ`hash`å€¼å¹¶ä¸å¤æ‚,å¯ä»¥ç›´æ¥åœ¨`webpack.conf.js`ä¸­é…ç½®.\n\n```js\nconst path = require('path');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.js', // å…¥å£ç‚¹\n  output: {\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'main.[contenthash].js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader'\n        ]\n      }\n    ]\n  }\n};\n```\n\n\u003e webpack çš„é…ç½®é¡¹ä¸°å¯Œ,ä¹Ÿå¯ä»¥è¯´æˆç¹æ‚,ä»”ç»†ç ”ç©¶æ¯ä¸€ä¸ªé…ç½®é¡¹éœ€è¦èŠ±è´¹ç›¸åº”çš„æ—¶é—´å’Œç²¾åŠ›,å¿…è¦æ—¶ä¹Ÿè®¸å¯ä»¥è·³ç€çœ‹,çœ‹ç€å½¢æˆä¸€äº›å°è±¡,éœ€è¦ç”¨çš„æ—¶å€™,å†çœ‹ä¹Ÿè®¸èƒ½æ›´å¿«ç†è§£.\n\nç°åœ¨,ç”Ÿæˆçš„`output`æ–‡ä»¶,ä¼šè‡ªåŠ¨å¸¦ä¸Š`hash`å€¼,æˆ‘ä»¬ä¸å¿…æ‹…å¿ƒæµè§ˆå™¨çš„ç¼“å­˜é—®é¢˜äº†.\n\nä½†æ˜¯,çœ‹èµ·æ¥äº§ç”Ÿäº†æ–°çš„é—®é¢˜.æˆ‘ä»¬çœ‹çœ‹é¡¹ç›®ç›®å½•ä¸‹çš„`index.html`:\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n  \u003cmeta charset=\"UTF-8\"\u003e\n  \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n  \u003ctitle\u003ewebpack learning\u003c/title\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n  \u003ch1\u003eStart...\u003c/h1\u003e\n  \u003cscript src=\"./out/main.js\"\u003e\u003c/script\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n```\n\næ²¡ä»€ä¹ˆé—®é¢˜,ä¾ç„¶æ˜¯å¼•å…¥äº†`output`æ‰“åŒ…ç”Ÿæˆçš„ç»“æœ.åªæ˜¯ç”±äºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†`hash`å€¼,æ–‡ä»¶åå˜å¾—éš¾ä»¥è®°å¿†,ä¸”æ¯æ¬¡éƒ½ä¸ä¸€æ ·,è¿™é‡Œå¿…ç„¶æ˜¯ä¸èƒ½å†™æ­»æˆ`./out/main.js`.\n\n`webpack`æä¾›äº†`plugins`æ’ä»¶æœºåˆ¶æ¥è§£å†³è¿™ä¸€ç±»é—®é¢˜.`nodejs`å¯ä»¥å¼€å‘ä¸€äº›è„šæœ¬å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å¤„ç†è¿™äº›æ¯ç‡¥çç¢çš„é—®é¢˜.\n\nè¯·ç‚¹å¼€è¿™é‡Œ[Plugins | webpack](https://webpack.docschina.org/plugins/), `webpack`ç”Ÿæ€ç¹è£,æ’ä»¶ç¹å¤š,è¿™æ„å‘³è¿™ç»å¤§å¤šæ•°çš„æ—¥å¸¸å¼€å‘é—®é¢˜,éƒ½èƒ½é€šè¿‡æ’ä»¶ç³»ç»Ÿè§£å†³æ‰.å¦‚æœä½ éœ€è¦å¤„ç†ä¸€äº›`webpack`æ„å»ºç›¸å…³çš„é—®é¢˜,ä¸å¦¨çœ‹çœ‹è¿™é‡Œæ˜¯å¦å·²ç»æœ‰äº†å…¶ä»–å¼€å‘è€…æä¾›çš„æ’ä»¶è§£å†³æ–¹æ¡ˆ.\n\nå›åˆ°ç¡¬ç¼–ç çš„`./out/main.js`çš„é—®é¢˜,æ’ä»¶[HtmlWebpackPlugin | webpack](https://webpack.docschina.org/plugins/html-webpack-plugin/) ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ.\n\nå…ˆå®‰è£…åº“:\n\n```bash\nyarn add -D html-webpack-plugin@next\n```\n\nè¿™ä¸ªæ’ä»¶èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„åˆ›å»ºè‡ªåŠ¨é“¾æ¥äº†`bundles`çš„`HTML`æ–‡ä»¶.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ’ä»¶å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ›´æ–°å…·æœ‰`hash`å€¼çš„`bundles`æ–‡ä»¶å¼•ç”¨.åœ¨å¾ˆå¤šåœºæ™¯ä¸‹éƒ½èƒ½çœ‹åˆ°ä¾‹å¦‚`dist/index.html`çš„å­˜åœ¨,ä¸”æ­¤æ–‡ä»¶å†…éƒ¨`body`çš„æœ€åé¢æ’å…¥äº†ä¸€ä¸ª`script`æ ‡ç­¾.å¦‚æœä½ ä¸æ­¢æœ‰ä¸€ä¸ª`bunddle`,ä¹Ÿèƒ½å¤Ÿéƒ½åŒ…å«åœ¨`script`æ ‡ç­¾å†….\n\n\nå¹¶ä¸”,è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ª`template`æ¨¡ç‰ˆæ–‡ä»¶ä»¥ä¾›ä½¿ç”¨.\n\nè®©æˆ‘ä»¬æ¥çœ‹çœ‹`webpack`çš„é…ç½®:\n\n```js\nconst path = require('path');\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.js', // å…¥å£ç‚¹\n  output: {\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'main.[contenthash].js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  },\n  plugins: [new HtmlWebpackPlugin({\n    // å‡ ä¹æ¯ä¸ªæ’ä»¶éƒ½æ”¯æŒä¸°å¯Œçš„é…ç½®,é»˜è®¤æƒ…å†µä¸‹,æ­¤æ’ä»¶åˆ›å»ºçš„index.htmléå¸¸ç®€å•,å¯¹æ­¤\n    // å¼€å‘è€…å¯ä»¥ä½¿ç”¨templateæ–‡ä»¶ä»£æ›¿,åœ¨templateæ–‡ä»¶ä¸­æ·»åŠ é€šç”¨ä»£ç ,æ­¤æ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†bodyæœ€åçš„å¼•å…¥é—®é¢˜.\n    template: \"./src/template.html\"\n  })],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader'\n        ]\n      }\n    ]\n  }\n};\n```\n\n# å¼€å‘æ¨¡å¼é—®é¢˜\n\nåˆ‡æ¢ä¸åŒçš„å¼€å‘æ¨¡å¼,ä¸ºä¸åŒçš„å¼€å‘æ¨¡å¼æ·»åŠ ä¸åŒçš„é…ç½®å’Œé’ˆå¯¹æ€§çš„åŠŸèƒ½éå¸¸å¸¸è§.\n\næœ‰æ—¶å€™,æˆ‘ä»¬åˆ›å»ºäº†`webpack.dev.js`å’Œ`webpack.prod.js`ä»¥åŠ`webpack.common.js`ä¸‰ä¸ªé…ç½®æ–‡ä»¶.é€šè¿‡åå­—å°±èƒ½ç†è§£ä¸‰ä¸ªæ–‡ä»¶çš„ä½œç”¨,å¹¶ä¸”é€šè¿‡ç¬¬ä¸‰æ–¹åº“å’Œç‰¹å®šçš„`package.json`å®šåˆ¶`scripts`,æˆ‘ä»¬å¯ä»¥å…±ç”¨`common`çš„é…ç½®,å¹¶ä¸”æ ¹æ®ä¸åŒçš„å‘½ä»¤,ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶è¿›è¡Œæ‰“åŒ….\n\nå®‰è£…æ’ä»¶:\n\n```bash\nyarn add -D webpack-merge\n```\n\n\n\nç°åœ¨åˆ›å»ºè¿™ä¸‰ä¸ªæ–‡ä»¶:\n\n```js\n// webpack.common.js\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.js', // å…¥å£ç‚¹\n  plugins: [new HtmlWebpackPlugin({\n    template: \"./src/template.html\"\n  })],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader'\n        ]\n      }\n    ]\n  }\n};\n\n// webpack.dev.js\nconst path = require('path');\nconst common = require(\"./webpack.common\");\nconst { merge } = require(\"webpack-merge\")\n// ç›´æ¥ä½¿ç”¨mergeå‡½æ•°,åˆå¹¶ä¸¤ä¸ªé…ç½®å¯¹è±¡\nmodule.exports = merge(common, {\n  mode: 'development',\n  output: {\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'main.[contenthash].js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  }\n}0;\n\n// webpack.prod.js\nconst path = require('path');\nconst common = require(\"./webpack.common\");\nconst { merge } = require(\"webpack-merge\")\nmodule.exports = merge(common, {\n  mode: 'production',\n  output: {\n    path: path.resolve(__dirname, 'dist'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: 'main.js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  }  \n});\n```\n\nå°±å¦‚åŒæ’ä»¶çš„åå­—å…³é”®å­—ä¸€æ ·,`merge`åˆå¹¶å¤šä¸ªé…ç½®.æ¥ç€,ç›´æ¥ä¿®æ”¹`package.json`çš„`scripts`:\n\n```json\n{\n  \"name\": \"webpack\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"webpack --config webpack.dev.js\",\n    \"build\": \"webpack --config webpack.prod.js\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"css-loader\": \"^5.0.1\",\n    \"html-webpack-plugin\": \"^4.5.1\",\n    \"sass\": \"^1.32.4\",\n    \"sass-loader\": \"^10.1.1\",\n    \"style-loader\": \"^2.0.0\",\n    \"webpack\": \"^5.15.0\",\n    \"webpack-cli\": \"^4.3.1\",\n    \"webpack-merge\": \"^5.7.3\"\n  }\n}\n```\n\nç°åœ¨,ä½¿ç”¨`yarn dev`å’Œ`yarn build`åˆ™èƒ½æ ¹æ®ä¸åŒçš„æ¨¡å¼è¿›è¡Œæ„å»ºäº†. `webpack`å®˜æ–¹æ”¯æŒåŒæ—¶å¯¼å‡ºä¸åŒçš„é…ç½®,ä½†ä¸ªäººçœ‹æ¥,æˆ‘æ›´å–œæ¬¢è¿™ç§`merge`å¤šæ–‡ä»¶çš„å½¢å¼.\n\n# çƒ­åŠ è½½å’Œå¼€å‘æœåŠ¡å™¨\n\nå¦‚æœä½ æƒ³è¦åœ¨æœ¬åœ°å¼€å‘çš„æ—¶å€™ä½¿ç”¨çƒ­åŠ è½½çš„åŠŸèƒ½,ä¿®æ”¹ä»£ç çš„åŒæ—¶,è‡ªåŠ¨è¿›è¡Œæ„å»ºå’Œæµè§ˆå™¨ç«¯çš„åˆ·æ–°.`webpack`ä¾ç„¶å­˜åœ¨å¾ˆå¤šå¯é€‰çš„æ–¹æ¡ˆ.\n\nç°åœ¨,æ¥çœ‹çœ‹å…¶ä¸­ä¸€ç§æ–¹æ¡ˆ:\n\n`webpack-dev-server`.\n\n\u003e å¦‚æœä½ æœ‰ä»€ä¹ˆå¼‚å¸¸ï¼Œè¯·æŸ¥çœ‹ç‰ˆæœ¬å’Œå®˜ç½‘è¯´æ˜ï¼Œä¸åŒæ—¶é—´ä¹Ÿè®¸ä¼šæœ‰ä¸€å®šçš„å·®å¼‚ã€‚\n\næˆ‘æ²¡çœ‹è¿‡è¿™ä¸ªåº“çš„æºç ,ä¸è¿‡è¿™ä¸ªåº“éœ€è¦åšçš„é…ç½®éå¸¸ç®€å•,æ•ˆæœå´å‡ºå¥‡çš„å¥½.\n\n```json\n{\n  \"name\": \"webpack\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"dev\": \"webpack serve --config webpack.dev.js --open\", // è°ƒç”¨webpack-dev-server æ‰“å¼€æµè§ˆå™¨\n    \"build\": \"webpack --config webpack.prod.js\"\n  },\n  \"dependencies\": {},\n  \"devDependencies\": {\n    \"css-loader\": \"^5.0.1\",\n    \"html-webpack-plugin\": \"^4.5.1\",\n    \"sass\": \"^1.32.4\",\n    \"sass-loader\": \"^10.1.1\",\n    \"style-loader\": \"^2.0.0\",\n    \"webpack\": \"^5.15.0\",\n    \"webpack-cli\": \"^4.3.1\",\n    \"webpack-dev-server\": \"^3.11.2\",\n    \"webpack-merge\": \"^5.7.3\"\n  }\n}\n```\n\næ­¤æ—¶ï¼Œä¿®æ”¹`./src/index.js`ç«‹åˆ»å°±èƒ½çœ‹åˆ°æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°ï¼Œç»ˆç«¯ä¹Ÿä¼šæç¤ºé‡æ–°æ„å»ºæ¶ˆæ¯ã€‚\n\n# å¤„ç†å›¾ç‰‡\n\n`webpack`åªèƒ½è¯†åˆ«`JavaScript`æ–‡ä»¶,æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„å›¾ç‰‡,æ— æ³•é€šè¿‡é»˜è®¤åŠŸèƒ½è¿›è¡Œæ‰“åŒ…å’Œå¯¹`output`æ–‡ä»¶è¿›è¡Œè·Ÿè¿›å¤„ç†,ä¾‹å¦‚æ— æ³•è‡ªåŠ¨è½¬æ¢æ‰“åŒ…åçš„`index.html`ä¸­çš„å›¾ç‰‡å±æ€§çš„åœ°å€.\n\næ¥ä¸‹æ¥ä½¿ç”¨çš„`loader`åˆ†åˆ«æ˜¯:\n\n- html-loader\n- file-loaderæˆ–è€…url-loader\n\nä¾ç„¶æ˜¯ä½¿ç”¨`npm`è¿›è¡Œå®‰è£…,ç¼–è¾‘`webpack.common.js`é…ç½®æ–‡ä»¶:\n\n```js\nconst path = require('path');\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.js', // å…¥å£ç‚¹\n  plugins: [new HtmlWebpackPlugin({\n    template: \"./src/template.html\"\n  })],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader'\n        ]\n      },\n      {\n        test: /\\.html$/i,\n        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader\n        loader: 'html-loader'\n      },\n      {\n        test: /\\.(jpg|png|gif|jpeg|svg)$/,\n        use: {\n          loader: 'file-loader',\n          options: {\n            outputPath: 'imgs',\n            publicPath: 'cdn.example.com/static/imgs'\n          }\n        }\n      }\n    ]\n  }\n};\n```\n\né’ˆå¯¹`html`æ–‡ä»¶,ä½¿ç”¨`html-loader`è¿›è¡Œå¤„ç†,è¿™ä¸ª`loader`èƒ½å¯¹`html`ä¸­çš„èµ„æºè¿›è¡Œè‡ªåŠ¨åŒ–çš„å¤„ç†,ä½¿å¾—`js`æ³¨å…¥çš„å›¾ç‰‡èµ„æº,`html-loader`å°†`img`ä¸­çš„`src`å±æ€§å€¼,é€šè¿‡å¯¼å…¥èµ„æºçš„æ–¹å¼å¼•å…¥.\n\nç„¶å,æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸ªæ–°çš„`loader`å»å¤„ç†è¿™äº›å¼•å…¥çš„èµ„æº.\n\né’ˆå¯¹ä¸åŒå›¾ç‰‡èµ„æº,ä½¿ç”¨`file-loader`è¿›è¡Œå¤„ç†,ä½¿ç”¨è¿™ä¸ª`loader`èƒ½è®©æˆ‘ä»¬å¯ä»¥åœ¨`module`ä¸­ä½¿ç”¨`esModule`æˆ–è€…`commonjs`çš„æ–¹å¼å¯¼å…¥å›¾ç‰‡èµ„æº,ç„¶åé€šè¿‡`js`æ³¨å…¥åˆ°`html`æ–‡ä»¶ä¸­.\n\né’ˆå¯¹æ€§çš„`options`é…ç½®,å¯ä»¥å®ç°å¼€å‘è€…éœ€è¦çš„æ•ˆæœ,é»˜è®¤æ‰“åŒ…ä¹‹åçš„èµ„æºåå˜æˆ`hash`å€¼,æ‰©å±•åä¸å˜.æˆ‘ä»¬å¯ä»¥è®¾ç½®å¢åŠ ä¸€äº›åå­—,è™½ç„¶ä¸Šè¿°é…ç½®ä¸­æ²¡æœ‰.\n\nä¸Šè¿°é…ç½®ä¸­,é…ç½®äº†æ‰“åŒ…ä¹‹å,ä¿å­˜èµ„æºçš„è¾“å‡ºç›®å½•çš„åå­—,å’Œæ³¨å…¥åˆ°æœ€ç»ˆ`html`æ–‡ä»¶ä¸­.\n\n\u003e æ¯ä¸€ä¸ª`loader`éƒ½æœ‰å¾ˆå¤šé¢å¤–çš„å¯é€‰é…ç½®,å¯ä»¥å®ç°æ›´å¤šéœ€æ±‚.\n\næœ‰æ—¶å€™,ä½ å¯èƒ½ä¼šå¬åˆ°å°†å›¾ç‰‡èµ„æºè½¬ä¸º`base64`ç¼–ç å­—ç¬¦ä¸²,ç›´æ¥å†™å…¥`html`ä¸­å»çš„è¯´æ³•.\n\n\u003e å°†å›¾ç‰‡è½¬æˆ`base64`å¯ä»¥å‡å°‘æ€»ä½“å›¾ç‰‡èµ„æºå•ç‹¬çš„`http`è¯·æ±‚,è¿™æ˜¯ä¸€ç§ä¼˜åŒ–é€Ÿåº¦çš„æ–¹å¼.\n\nè¿™ä¸ªæ—¶å€™,åˆ™å¯ä»¥ä½¿ç”¨`url-loader`.å®‰è£…ä¹‹å,å¯ä»¥ç›´æ¥é…ç½®`webpack.common.js`:\n\n```js\nconst path = require('path');\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.js', // å…¥å£ç‚¹\n  plugins: [new HtmlWebpackPlugin({\n    template: \"./src/template.html\"\n  })],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          'style-loader', 'css-loader', 'sass-loader'\n        ]\n      },\n      {\n        test: /\\.html$/i,\n        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader\n        loader: 'html-loader'\n      },\n      {\n        test: /\\.(jpg|png|gif|jpeg|svg|ico)$/,\n        use: {\n          loader: 'url-loader',\n          options: {\n            limit: 8192,\n            outputPath: 'imgs',\n            publicPath: 'cdn.example.com/static/imgs'\n          }\n        }\n      }\n    ]\n  }\n};\n```\n\nå°†`file-loader`ç›´æ¥æ›¿æ¢æˆ`url-loader`,å”¯ä¸€éœ€è¦åœ¨æ„çš„æ˜¯èµ„æºå¤§å°`limit`çš„è®¾ç½®,é»˜è®¤`fallback`æ˜¯è®©è¶…è¿‡`limit`çš„èµ„æº,ä½¿ç”¨`file-loader`å¤„ç†,ä¸”é…ç½®å¯ä»¥ä¼ é€’è¿‡å»,ä¸Šé¢çš„`outputPath`ç­‰ä¾ç„¶å¯¹`file-loader`ç”Ÿæ•ˆ.\n\n`url-loader`è¿˜å¯ä»¥å•ç‹¬æŒ‡å®šå›è°ƒçš„`loader`,å¦‚æœä½ ä¸æƒ³ç”¨`file-loader`,æƒ³ç”¨ä¾‹å¦‚`responsive-loader`çš„è¯ä¹Ÿæ˜¯å¯ä»¥çš„.\n\n# å¤šå…¥å£è®¾ç½®\n\nä¹‹å‰è°ˆè®ºçš„é…ç½®ä¸­,ä¸€ç›´ä½¿ç”¨å•ä¸€çš„`entry point`,é»˜è®¤ä»`src/index.js`ä½œä¸ºèµ·ç‚¹.\n\næŸäº›åœºæ™¯ä¸‹,å¦‚æœä½ éœ€è¦å¤šä¸ª`entry point`ä¹Ÿæ˜¯å¯ä»¥çš„ .\n\n```js\n// webpack.common.js\nconst path = require('path');\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: {\n    // å¤šä¸ª,æ¯ä¸ªéƒ½è®©keyä½œä¸ºæœ€åæ‰“åŒ…æ³¨å…¥çš„å˜é‡name\n    main: './src/index.js',\n    other: './src/other.js'\n  }, // å…¥å£ç‚¹\n  // ...other\n};\n// ä¿®æ”¹ webpack.dev.js\nconst path = require('path');\nconst common = require(\"./webpack.common\");\nconst {merge} = require(\"webpack-merge\")\n\nmodule.exports = merge(common, {\n  mode: 'development',\n  output: {\n    publicPath: '',\n    path: path.resolve(__dirname, 'out'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n    filename: '[name].[contenthash].js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  }\n});\n```\n\nç°åœ¨,æ‰“åŒ…çš„`index.html`å†…:\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n\n  \u003chead\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n    \u003ctitle\u003ewebpack learning\u003c/title\u003e\n  \u003c/head\u003e\n\n  \u003cbody\u003e\n    \u003ch1\u003eStart......\u003c/h1\u003e\n    \u003cscript src=\"main.3566bb7a2fe712fb86ed.js\"\u003e\u003c/script\u003e\n    \u003cscript src=\"other.5cb71429ff79cddc2f96.js\"\u003e\u003c/script\u003e\n  \u003c/body\u003e\n\n\u003c/html\u003e\n```\n\næœ‰æ—¶å€™,å¹¶ä¸æƒ³è®©æ‰€æœ‰å†…å®¹éƒ½å†™å…¥`main.balabala.js`ä¸­,å¯ä»¥å°†ç‹¬ç«‹çš„ä¸€éƒ¨åˆ†æ‰“åŒ…åˆ°å¦ä¸€ä¸ªå…¥å£æ–‡ä»¶,è¿™ä¹Ÿæ˜¯ä¸€ç§éœ€æ±‚è¡ç”Ÿçš„è§£å†³æ–¹æ¡ˆ.\n\n\u003e å¤šä¸ªå•ç‹¬çš„`link`æˆ–è€…`script`æ ‡ç­¾ä¸‹,æµè§ˆå™¨å¹¶è¡Œä¸‹è½½å¤šä¸ªæ–‡ä»¶,æ—¶é—´å–å†³äºæœ€å¤§çš„é‚£ä¸ªæ–‡ä»¶,æœ‰æ—¶å€™å¯ä»¥å¯¹æ­¤è¿›è¡Œä¼˜åŒ–é€Ÿåº¦.åç»­ä¼˜åŒ–éƒ¨åˆ†å†æ.\n\n# ä¼˜åŒ– CSS å¼•å…¥æ–¹æ¡ˆ\n\nä¹‹å‰æˆ‘ä»¬é€šè¿‡`import`æˆ–è€…`require`çš„æ–¹å¼å¼•å…¥`css`,å¹¶ä¸”ç”¨`js`çš„æ–¹å¼æ³¨å…¥åˆ°æœ€ç»ˆ`DOM`ä¸­å»,åˆ›å»º`style`çš„`tag`.\n\næœ‰ä¸€ä¸ªé—®é¢˜.\n\næ‰“åŒ…çš„`js`æ–‡ä»¶æ”¾åœ¨`body`çš„åº•éƒ¨,é‚£ä¹ˆ`css`æ•ˆæœåŠ¿å¿…åœ¨æœ€åæ‰ä½“ç°å‡ºæ¥.å¹¶ä¸”`css`æ–‡ä»¶å¯ä»¥ç¼“å­˜,æ—¢å‡å°äº†`bundle`çš„å¤§å°,åˆæé«˜é¡µé¢æ¸²æŸ“çš„é€Ÿåº¦.\n\nè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ç›´æ¥é€šè¿‡`link`å¼•å…¥å•ç‹¬çš„`css`çš„æµç¨‹.\n\nå“¦ä¸,æ˜¯æ¥å›é¡¾ä¸€ä¸‹æµè§ˆå™¨æ¸²æŸ“åŸç†,æˆ‘æ‰¾äº†ä¸€ç¯‡éå¸¸å¥½çš„åšå®¢æ–‡ç« .\n\n[æ·±å…¥æµ…å‡ºæµè§ˆå™¨æ¸²æŸ“åŸç† Â· Issue #51 Â· ljianshu/Blog](https://github.com/ljianshu/Blog/issues/51)\n\nç°åœ¨,æˆ‘ä»¬çŸ¥é“äº†,å¦‚æœä½ çš„`css`ä¸æ˜¯éå¸¸å°éƒ¨åˆ†çš„å†…å®¹çš„è¯,å•ç‹¬å¼•å…¥çš„ä¼˜åŠ¿`css`è„±ç¦»æ•´ä½“,å•ç‹¬ä¸‹è½½,èƒ½åˆ©ç”¨åˆ°æµè§ˆå™¨å¤šçº¿ç¨‹çš„ä¼˜åŠ¿,å‡å°‘èµ„æºæ‹‰å–çš„æ—¶é—´.\n\n```js\n// webpack.prod.js\n// ç”Ÿäº§æ¨¡å¼,æ‰“åŒ…æˆå•ç‹¬çš„cssæ–‡ä»¶\nconst path = require('path');\nconst common = require(\"./webpack.common\");\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n\nconst { merge } = require(\"webpack-merge\")\n\nmodule.exports = merge(common, {\n  mode: 'production',\n  output: {\n    path: path.resolve(__dirname, 'dist'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: \"css/[name].[hash].css\",\n    })\n  ],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          MiniCssExtractPlugin.loader, // 3. extract css into files\n          'css-loader', // 2. turns css into commonjs\n          'sass-loader' // 1. turns sass into css\n        ]\n      }\n    ]\n  }\n});\n```\n\nå¯èƒ½ä¼šå¼•å‘ä¸€äº›é—®é¢˜,ä¾‹å¦‚å•ç‹¬çš„`css`æ–‡ä»¶å¤ªå¤š,æµè§ˆå™¨äº§ç”Ÿå¾ˆå¤š`http`è¯·æ±‚,æœåŠ¡å™¨æ–¹é¢éœ€è¦åšå‡ºéå¸¸å¤šçš„å“åº”,åœ¨ç”¨æˆ·é‡å¾ˆå¤§çš„æƒ…å†µä¸‹,ä¹Ÿè®¸ä¸æ˜¯ä¸€ä¸ªè‰¯å¥½çš„é€‰æ‹©.\n\nè¿™ä¸ªæ—¶å€™,åˆå¹¶ä¸€äº›`css`åˆ°ä¸€ä¸ª`css`æ–‡ä»¶,è®©æ•´ä½“æ–‡ä»¶æ•°é‡å‡å°‘,å•æ–‡ä»¶å˜å¤§,åªè¦æ¯”`chunk`åŒ…å°,åŠ è½½æ—¶é—´ä¸€èˆ¬å°±ä¸ä¼šè¶…è¿‡ä¸»è¦çš„`js`æ–‡ä»¶.\n\n\n\n\u003e production æ¨¡å¼é»˜è®¤å¯¹æ„å»ºå†…å®¹è¿›è¡Œå‹ç¼©,å¼€å‘æ¨¡å¼åˆ™æ— æ‰€è°“,ä¸€èˆ¬ä¸å‹ç¼©.\n\n\n\n# å…¼å®¹æ€§é€‰æ‹©\n\n**å…¼å®¹CSS**:\n\né’ˆå¯¹ä¸åŒæµè§ˆå™¨å‚å•†çš„å®ç°,æˆ‘ä»¬å¯ä»¥ç”¨`postcss-loader`å’Œ`autoprefixer`å¢åŠ æ ·å¼å‰ç¼€æ¥å®ç°ä¸€å®šç¨‹åº¦çš„å…¼å®¹.\n\n```bash\n# å®‰è£…\n$  yarn add -D postcss-loader autoprefixer\n```\n\né…ç½®`webpack.prod.js`:\n\n```js\nconst path = require('path');\nconst common = require(\"./webpack.common\");\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n\nconst { merge } = require(\"webpack-merge\")\n\nmodule.exports = merge(common, {\n  mode: 'production',\n  output: {\n    path: path.resolve(__dirname, 'dist'), // è¾“å‡ºç›®å½•, pathåº“çš„api\n  },\n  plugins: [\n    new MiniCssExtractPlugin({\n      filename: \"css/[name].[hash:8].css\",\n    })\n  ],\n  module: {\n    rules: [\n      {\n        test: /\\.sass$/,\n        use: [\n          MiniCssExtractPlugin.loader, // 4. extract css into files\n          'css-loader', // 3. turns css into commonjs\n          'postcss-loader', // 2. autoprefixer\n          'sass-loader' // 1. turns sass into css\n        ]\n      }\n    ]\n  }\n});\n```\n\nå…ˆå°†`sass`è½¬è¯‘,å†ç”¨`postcss-loader`å¢åŠ å‰ç¼€.\n\nå¦å¤–åˆ›å»º`postcss.conf.js`æŒ‡å®šæ’ä»¶ä¸º`autoprefixer`:\n\n```js\n// postcss.conf.js\nmodule.exports = {\n  plugins: [\n    require('autoprefixer')\n  ]\n}\n```\n\nå†ä¿®æ”¹`package.json`,å¢åŠ æµè§ˆå™¨æ”¯æŒåº¦é…ç½®:\n\n```json\n{\n  \"name\": \"webpack\",\n  \"version\": \"1.0.0\",\n  \"main\": \"index.js\",\n  \"license\": \"MIT\",\n  \"sideEffects\": [\n    \"*.css\",\n    \"*.sass\"\n  ],\n  \"browserslist\": [\n    \"\u003e 1%\",\n    \"last 2 versions\",\n    \"not ie \u003c= 8\"\n  ],\n  \"scripts\": {\n    // è¿™é‡Œæ’ä¸€å˜´,windowsä¸‹ä¸æ”¯æŒç›´æ¥ä½¿ç”¨ rm å‘½ä»¤,å› ä¸ºscriptséƒ¨åˆ†æ˜¯ç»™ Unix ç³»ç»Ÿå†™çš„,åˆ é™¤æ–‡ä»¶å¤¹æˆ‘ä½¿ç”¨äº†rimraf,å…ˆç”¨npm install --save-dev rimrafå®‰è£…. \n    \"start\": \"webpack serve --config webpack.dev.js\",\n    \"dev\": \"rimraf out \u0026\u0026 webpack --config webpack.dev.js\",\n    \"build\": \"rimraf dist \u0026\u0026 webpack --config webpack.prod.js\",\n    \"clean\": \"rimraf dist \u0026\u0026 rimraf out\"\n  }  \n}\n\n```\n\n\u003e å¾ˆå¤šäººä½¿ç”¨ `clean-webpack-plugin` æ¥æ¸…ç†æ–‡ä»¶å’Œç›®å½•,ä¸”æ­¤æ’ä»¶å¯ä»¥å¿½ç•¥ä¸éœ€è¦æ¸…ç†çš„ç›®å½•å’Œæ–‡ä»¶,éå¸¸æ–¹ä¾¿.\n\n**å…¼å®¹JS**:\n\nè¿˜æ˜¯å› ä¸ºä¸åŒæµè§ˆå™¨å‚å•†çš„æ”¯æŒåº¦å’Œå®ç°ä¸ä¸€çš„é—®é¢˜,ä¸”å¦‚æœä½ æƒ³ä½¿ç”¨`ECMAScript`æ¯”è¾ƒæ–°çš„è¯­æ³•,è€Œç±»ä¼¼`IE`æµè§ˆå™¨ä¸æ”¯æŒ,æˆ–è€…å…¶ä»–æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒ.\n\nè¿™æ—¶å€™éœ€è¦ä½¿ç”¨ç±»ä¼¼`babel`è¿™äº›å·¥å…·å¯¹æˆ‘ä»¬çš„`js`ä»£ç è¿›è¡Œå¤„ç†,å¢åŠ `polyfill`.\n\n**babel**è½¬æ¢çš„æ˜¯è¯­æ³•,è€Œä¸æ˜¯`API`,åªæœ‰å¼•å…¥äº†è¯­æ³•`polyfill`æ‰èƒ½å°†æ–°çš„`API`ä»£ç è¿›è¡Œè½¬æ¢,è®©æŒ‡å®šèŒƒå›´çš„è¿è¡Œç¯å¢ƒç¨³å®šè¿è¡Œæˆ‘ä»¬çš„ä»£ç .\n\n\u003e [Babel Doc](https://www.babeljs.cn/docs/): Babel æ˜¯ä¸€ä¸ªå·¥å…·é“¾ï¼Œä¸»è¦ç”¨äºå°† `ECMAScript 2015+`ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨å’Œå…¶ä»–ç¯å¢ƒä¸­.\n\nå®‰è£…`babel`ä¾èµ–:\n\n```bash\n$ yarn add  -D @babel/core @babel/preset-env @babel/plugin-transform-runtime babel-loader\n$ yarn add @babel/runtime @babel/runtime-corejs3\n```\n\n`babel7`æ”¯æŒå¤šç§é…ç½®ç±»å‹,æ¯”å¦‚:\n\n- babel.config.js\n\n- .babelrc\n- .babelrc.js\n- .babelrc.json\n- ...\n\n`@babel/preset-env`æ˜¯`babel`æ¨èçš„é¢„è®¾åŠŸèƒ½,å†…ç½®äº†å¸¸ç”¨æ’ä»¶æ¥æ”¯æŒ`polyfill`,ç”¨æˆ·å¯ä»¥æ ¹æ®`target`æŒ‡å®šç¯å¢ƒå»ä½¿ç”¨å¯¹åº”çš„æ’ä»¶.\n\n`core.js`æ˜¯ä¸€ä¸ª`JavaScriptæ ‡å‡†åº“`çš„`polyfill`.`@babel/preset-env`ä¾èµ–äº`core.js`.\n\næ¨èå•ç‹¬åˆ›å»ºä¸€ä¸ª`.babel.config.js`æ–‡ä»¶.\n\n```json\nmodule.exports = {\n  presets: [\n    [\n      \"@babel/preset-env\",\n      {\n        // æŒ‰éœ€å¼•å…¥\n        \"useBuiltIns\": \"usage\",\n        // \"targets\": \"defaults\",  å»ºè®®å…³äºtargetséƒ½ä½¿ç”¨package.json ä¸­çš„browserslisté…ç½®.å¯ä»¥å…±ç”¨ç»™postcssçš„æ’ä»¶.\n        \"corejs\": 3 // version 3, é»˜è®¤å¡«å……è§„èŒƒ,å¯ä»¥å¼€å¯å¡«å……ææ¡ˆ.å»ºè®®ä¸ä¼˜å…ˆä½¿ç”¨ä½“éªŒè¯­æ³•,æ¯•ç«Ÿææ¡ˆå§‹ç»ˆå­˜åœ¨è¢«æ”¾å¼ƒçš„å¯èƒ½æ€§,è¿™äº›ææ¡ˆä¾ç„¶éœ€è¦æ—¶é—´å’Œè€ƒéªŒ.\n      }\n    ]\n  ],\n  plugins: [\n    [\n      \"@babel/plugin-transform-runtime\" // ç”¨äºå‡å°‘ä»£ç ä½“ç§¯,babel-loaderçš„æ–‡æ¡£æœ‰ä»‹ç»å¦‚ä½•è§£å†³å…³é”®çš„ä¸¤ä¸ªé—®é¢˜,è¿™æ˜¯å…¶ä¸­ä¹‹ä¸€.ä½¿ç”¨æ­¤æ’ä»¶,é¢„è®¾polyfillä¸ä¼šç›´æ¥æ³¨å…¥åˆ°å…¨å±€å˜é‡ä¸­.\n    ]\n  ]\n}\n```\n\n`webpack`æ–¹é¢çš„é…ç½®:\n\n```json\nconst path = require('path');\nlet HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  entry: {\n    main: './src/index.js',\n    other: './src/other.js'\n  }, // å…¥å£ç‚¹\n  output: {\n    filename: 'js/[name].[contenthash].js' // è¾“å‡ºæ„å»ºæ–‡ä»¶å\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      template: \"./src/template.html\"\n    })\n  ],\n  module: {\n    rules: [\n      {\n        test: /\\.html$/i,\n        // htmlæ–‡ä»¶åªé…ç½®ä¸€ä¸ªloader\n        loader: 'html-loader'\n      },\n      {\n        test: /\\.(jpg|png|gif|jpeg|svg|ico)$/,\n        use: {\n          loader: 'url-loader',\n          options: {\n            limit: 8192,\n            outputPath: 'imgs',\n            publicPath: 'cdn.example.com/static/imgs'\n          }\n        }\n      },\n      {\n        test: /\\.jsx?$/,\n        exclude: /(node_modules|bower_components)/, // æ’é™¤éƒ¨åˆ†,æé«˜é€Ÿåº¦\n        use: {\n          loader: 'babel-loader' // æŒ‡å®šloader,é…ç½®é€šè¿‡babel.config.jså»è®¾ç½®\n        },\n      }\n    ]\n  }\n};\n```\n\n\n\nä¹Ÿè®¸ä½ å¬è¿‡`babel`é’ˆå¯¹`stage-x`çš„æ”¯æŒåº¦è®¾ç½®,ä½†æ˜¯åœ¨`babel7`å`preset-env`å·²ç»æ”¯æŒå®Œå…¨æ›¿æ¢`babel-preset-es2015`~`babel-preset-latest`.\n\n\u003e æˆ‘è§‰å¾—å›¢é˜Ÿå¼€å‘åªåº”è¯¥ä½¿ç”¨çº³å…¥å¹´åº¦ç‰ˆæœ¬ä¸­çš„ææ¡ˆ,æš‚æœªçº³å…¥å¹´åº¦ç‰ˆæœ¬ä¸­çš„ç‰¹æ€§å­˜åœ¨ç€ä¸ä¼šæˆä¸º`js`ä¸€éƒ¨åˆ†çš„å¯èƒ½æ€§.\n\n\n\n# æœ€å...\n\nè¿˜æœ‰å¾ˆå¤šå†…å®¹å¹¶æœªå†™å‡ºæ¥,æš‚æ—¶å†™åˆ°è¿™é‡Œ,åç»­å†æ ¹æ®é¡¹ç›®è¿›è¡Œåˆ†æå’Œæ·±å…¥å­¦ä¹ ,å†è§.\n\n\n\n# ä¼˜åŒ–\n\nè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„é—®é¢˜,éœ€è¦æˆ‘è¿›ä¸€æ­¥é…åˆé¡¹ç›®è¿›è¡Œæ·±å…¥å­¦ä¹ ,ä»¥ä¸‹æ˜¯æˆ‘æƒ³åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹.\n\n- ä½¿ç”¨`ParallelUglifyPlugin`ä»£æ›¿é»˜è®¤å‹ç¼©æ’ä»¶\n- ä½¿ç”¨`swc`ä»£æ›¿`babel`è¿›è¡Œç¼–è¯‘\n- ä½¿ç”¨`cdn`å¯¹éƒ¨åˆ†èµ„æºè¿›è¡Œå¼•ç”¨,å‡å°æ‰“åŒ…çš„å¤§å°.\n- ä½¿ç”¨ç¼“å­˜æ’ä»¶,å‡å°‘ä¸å¿…è¦çš„é‡å¤æ‰“åŒ….\n- ä½¿ç”¨åŠ¨æ€å¯¼å…¥æœºåˆ¶,å‡å°æ‰“åŒ…å¤§å°.\n\n\n\n# å‚è€ƒ\n\n- [webpack ä¸­æ–‡æ–‡æ¡£ | webpack ä¸­æ–‡ç½‘](https://www.webpackjs.com/)\n\n- [What is Babel? Â· Babel](https://babeljs.io/docs/en/)\n\n- [å¸¦ä½ ä¸€æ­¥ä¸€æ­¥é…ç½®Babel7](https://juejin.cn/post/6844904132294213639)\n- [browserslist/browserslist: ğŸ¦” Share target browsers between different front-end tools, like Autoprefixer, Stylelint and babel-preset-env](https://github.com/browserslist/browserslist)\n- [[è¯‘]Babelæ–‡æ¡£ä¹‹@babel/preset-env](https://juejin.cn/post/6844903937900822536)\n- [ä¸€æ–‡ææ‡‚Babelé…ç½® - SegmentFault æ€å¦](https://segmentfault.com/a/1190000038324347#)\n- [æ·±å…¥æµ…å‡ºæµè§ˆå™¨æ¸²æŸ“åŸç† Â· Issue #51 Â· ljianshu/Blog](https://github.com/ljianshu/Blog/issues/51)","title":"å­¦ä¹ webpack","date":"2021/1/13","tags":["webpack","å·¥ç¨‹åŒ–"],"mainImg":"https://images.unsplash.com/photo-1605507139485-d0a835ec559d?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=MXwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8\u0026ixlib=rb-1.2.1\u0026q=80\u0026w=1080","coverImg":"https://images.unsplash.com/photo-1605507139485-d0a835ec559d?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=MXwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8\u0026ixlib=rb-1.2.1\u0026q=80\u0026w=400","intro":"ä»Šå¤©,æˆ‘æƒ³è¦å­¦ä¹  ESNext çš„çŸ¥è¯†,å¹¶ä¸”è¿ç”¨åˆ°æˆ‘çš„å·¥å…·åº“ä¸­å»,åˆ›å»º GitHub repo,ä½†æˆ‘ä¾ç„¶éœ€è¦ä¸€ä¸ªé¶åœº.å­¦ä¹  webpack è®©æˆ‘èƒ½è½»æ¾å†™ ESNext ä»£ç ,èµ°åœ¨å‰å¤´,å·¥ç¨‹åŒ–æŠ€æœ¯å—ç”¨æ— ç©·."}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"å­¦ä¹ webpack"},"buildId":"jrsNkT-71GT1HMJzO_GLl","assetPrefix":"/blog","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"name":"description","content":"javascript node deno linux web developer"}],["meta",{"charSet":"utf-8"}],["link",{"rel":"icon","href":"data:image/svg+xml,\u003csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22\u003e\u003ctext y=%22.9em%22 font-size=%2290%22\u003eğŸ¯\u003c/text\u003e\u003c/svg\u003e"}],["link",{"rel":"stylesheet","href":"https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"}],["title",{"children":"å­¦ä¹ webpack"}],["link",{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css"}],["link",{"rel":"stylesheet","href":"/blog/post.css"}],["script",{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-J0BNBT8YXG"}],["script",{"dangerouslySetInnerHTML":{"__html":"\u003c!-- Global site tag (gtag.js) - Google Analytics --\u003e\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', 'G-J0BNBT8YXG');"}}],["style",{}]]}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-86dac49abe0e0232b575.js"></script><script src="/blog/_next/static/chunks/main-c37f7d67026ad75148c3.js" async=""></script><script src="/blog/_next/static/chunks/webpack-eb080e3f091731f228fb.js" async=""></script><script src="/blog/_next/static/chunks/framework.1daf1ec1ecf144ee9147.js" async=""></script><script src="/blog/_next/static/chunks/commons.cb58dfc173e18379cc5b.js" async=""></script><script src="/blog/_next/static/chunks/6335da8543c52d3af527c387f688061357787349.aa32db8a194765817dea.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-ec227152ab7c3ab4ac27.js" async=""></script><script src="/blog/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.f2335cbaf06875528bc0.js" async=""></script><script src="/blog/_next/static/chunks/pages/posts/%5Bslug%5D-a3b98341ead03cf4e1a2.js" async=""></script><script src="/blog/_next/static/jrsNkT-71GT1HMJzO_GLl/_buildManifest.js" async=""></script><script src="/blog/_next/static/jrsNkT-71GT1HMJzO_GLl/_ssgManifest.js" async=""></script></body></html>