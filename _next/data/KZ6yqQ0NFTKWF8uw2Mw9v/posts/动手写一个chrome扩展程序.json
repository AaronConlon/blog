{"pageProps":{"post":{"slug":"动手写一个chrome扩展程序","contentHtml":"<p>我上周写了一个半成品 chrome 扩展程序，使用的是<code>chrome-extension-cli</code>这个脚手架，版本还是<code>v2</code>的，作者似乎很久没更新了，之前答应好朋友做为她添加<code>搜索框</code>的特性，鸽子王放了鸽子。我的我的。</p>\n<h2>设置开发环境</h2>\n<p>开发环境目标如下：</p>\n<ul>\n<li>使用 <code>react</code> 框架进行 <code>override tabpage</code> 的开发</li>\n<li>支持<code>swc</code>编译和<code>typescript</code> + <code>react</code>开发</li>\n<li>支持<code>eslint</code>格式验证</li>\n<li>支持<code>sass</code></li>\n<li>支持图片导入和处理</li>\n</ul>\n<p>首先，使用<code>yarn</code>初始化项目目录。</p>\n<h3>wepack + react + ts + swc</h3>\n<p>接着，配置<code>webpack+ts</code>，使用<code>swc</code>代替<code>ts-loader</code>处理<code>ts</code>文件。</p>\n<p>需要安装的库如下：</p>\n<h5>开发模式依赖安装</h5>\n<ul>\n<li>\n<p>@types/react</p>\n</li>\n<li>\n<p>@types/react-dom</p>\n</li>\n<li>\n<p>typescript</p>\n</li>\n<li>\n<p>webpack</p>\n</li>\n<li>\n<p>webpack-cli</p>\n</li>\n<li>\n<p>swc</p>\n</li>\n<li>\n<p>webpack-dev-server</p>\n</li>\n</ul>\n<h5>构建模式依赖安装</h5>\n<ul>\n<li>react react-dom</li>\n</ul>\n<h5>几个配置文件</h5>\n<ul>\n<li><code>tsconfig.json</code></li>\n</ul>\n<pre><code class=\"hljs language-json\"><span class=\"lineNumber\">1</span>{\n<span class=\"lineNumber\">2</span>  <span class=\"hljs-attr\">\"include\"</span>: [<span class=\"hljs-string\">\"./src/*/*\"</span>],\n<span class=\"lineNumber\">3</span>  <span class=\"hljs-attr\">\"compilerOptions\"</span>: {\n<span class=\"lineNumber\">4</span>    <span class=\"hljs-attr\">\"outDir\"</span>: <span class=\"hljs-string\">\"./dist/\"</span>,\n<span class=\"lineNumber\">5</span>    <span class=\"hljs-attr\">\"noImplicitAny\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">6</span>    <span class=\"hljs-attr\">\"target\"</span>: <span class=\"hljs-string\">\"ES6\"</span>,\n<span class=\"lineNumber\">7</span>    <span class=\"hljs-attr\">\"module\"</span>: <span class=\"hljs-string\">\"CommonJS\"</span>,\n<span class=\"lineNumber\">8</span>    <span class=\"hljs-attr\">\"lib\"</span>: [<span class=\"hljs-string\">\"esnext\"</span>, <span class=\"hljs-string\">\"DOM\"</span>],\n<span class=\"lineNumber\">9</span>    <span class=\"hljs-attr\">\"allowJs\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">10</span>    <span class=\"hljs-attr\">\"jsx\"</span>: <span class=\"hljs-string\">\"react-jsx\"</span>,\n<span class=\"lineNumber\">11</span>    <span class=\"hljs-attr\">\"sourceMap\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">12</span>    <span class=\"hljs-attr\">\"removeComments\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">13</span>    <span class=\"hljs-attr\">\"noEmit\"</span>: <span class=\"hljs-literal\">false</span>,\n<span class=\"lineNumber\">14</span>    <span class=\"hljs-attr\">\"strict\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">15</span>    <span class=\"hljs-attr\">\"alwaysStrict\"</span>: <span class=\"hljs-literal\">true</span>,\n<span class=\"lineNumber\">16</span>    <span class=\"hljs-attr\">\"noUnusedLocals\"</span>: <span class=\"hljs-literal\">true</span>\n<span class=\"lineNumber\">17</span>  }\n<span class=\"lineNumber\">18</span>}</code></pre> \n\n<h5>package.json</h5>\n<pre><code class=\"hljs language-json\"><span class=\"lineNumber\">1</span></code></pre> \n\n<h2>功能开发</h2>\n<p>目标如下：</p>\n<ul>\n<li>\n<p>支持搜索框组件</p>\n</li>\n<li>\n<p>支持天气定位</p>\n</li>\n<li>\n<p>支持全局显示和隐藏组件控制</p>\n</li>\n<li>\n<p>支持时间和日期显示</p>\n</li>\n<li>\n<p>支持每日毒鸡汤</p>\n</li>\n<li>\n<p>支持随机每日壁纸</p>\n</li>\n<li>\n<p>支持设置本地壁纸不变</p>\n</li>\n<li>\n<p>支持下载壁纸</p>\n</li>\n<li>\n<p>支持留言，所有人可见</p>\n</li>\n</ul>\n","title":"动手写一个chrome扩展程序","date":"2021/6/28","tags":["chrome","JavaScript"],"mainImg":"https://images.unsplash.com/photo-1547190027-9156686aa2f0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2MjQ4ODg5NDQ&ixlib=rb-1.2.1&q=80&w=1080","coverImg":"https://images.unsplash.com/photo-1547190027-9156686aa2f0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2MjQ4ODg5NDQ&ixlib=rb-1.2.1&q=80&w=400","intro":"动手写一个 chrome 扩展程序，从零配置开发环境，一步步完成覆盖默认 chrome 标签页的扩展程序 yoyo"}},"__N_SSG":true}