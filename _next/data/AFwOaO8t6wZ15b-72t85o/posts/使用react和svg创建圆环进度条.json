{"pageProps":{"post":{"slug":"ä½¿ç”¨reactå’Œsvgåˆ›å»ºåœ†ç¯è¿›åº¦æ¡","contentHtml":"<p>å‰æ®µæ—¶é—´åˆšå¥½æ¥è§¦ä¸€ä¸ªè®¾è®¡é¡µé¢éœ€è¦ç”¨åˆ°åœ†å½¢è¿›åº¦ç¯ç»„ä»¶ï¼Œå½“æ—¶ä½¿ç”¨çš„æ˜¯è°·æ­Œçš„ material-ui çš„ç»„ä»¶ï¼Œä¸ºäº†å®ç°è®¾è®¡å›¾çš„æ•ˆæœéœ€è¦å¯¹åº“ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œäºæ˜¯æœç´¢äº†å…³äºåœ†å½¢è¿›åº¦ç¯çš„å®ç°ï¼Œå­¦äº†ä¸€æ‰‹ä½¿ç”¨ svg çš„çŸ¥è¯†æ¥åˆ›å»ºè¿™ä¸ªâ€œåœ†ç¯â€ã€‚</p>\n<p><img src=\"https://raw.githubusercontent.com/youyiqin/markdown_imgs/master/image-20210910003938507.png\" alt=\"image-20210910003938507\"></p>\n<h1>æœ¬æ–‡ç›¸å…³çŸ¥è¯†</h1>\n<ul>\n<li>react ç¤ºä¾‹ä»£ç ç¯å¢ƒåˆ›å»º</li>\n<li>svg ğŸ·ç›¸å…³çŸ¥è¯†</li>\n<li>ç¢ç¢å¿µ</li>\n</ul>\n<h1>å¼€å§‹</h1>\n<h2>1. åˆ›å»º React åŸºç¡€ç¯å¢ƒ</h2>\n<p>å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘æ–­æ–­ç»­ç»­çš„å­¦ä¹ äº†<code>webpack</code>ç›¸å…³çŸ¥è¯†ï¼Œåæ¥å·¥ä½œä¸­æ¥è§¦ä¸åˆ°ç›¸å…³çŸ¥è¯†ä¾¿æ·¡å¿˜äº†æ‰€å­¦çš„å†…å®¹ï¼Œå†çœ‹<code>webpack</code>çš„æ—¶å€™å¿½ç„¶è§‰å¾—æ¨¡æ£±ä¸¤å¯ä¸”æ‰€çŸ¥ç”šå°‘ï¼Œå¦‚ä¸‹å†æ¬¡é…ç½®ä¸€éåŸºç¡€ç¯å¢ƒæ˜¯ä¸ºäº†è®©è‡ªå·±åŠ æ·±ä¸€äº›å°è±¡ã€‚</p>\n<blockquote>\n<p><code>Create-react-app</code> å¾ˆå¥½ï¼Œ<code>codesandbox.io</code>ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³è®°å½•ä¸€ä¸‹æ­å»ºç®€å•çš„ React å¼€å‘ç¯å¢ƒã€‚</p>\n</blockquote>\n<p>é¦–å…ˆï¼Œ<code>yarn init -y</code>åˆå§‹åŒ–æ ¹ç›®å½•ä¹‹åï¼Œå³å¯å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š</p>\n<pre><code class=\"hljs language-bash\"><span class=\"lineNumber\">1</span><span class=\"hljs-comment\"># react æ ¸å¿ƒä¾èµ–</span>\n<span class=\"lineNumber\">2</span>yarn add react react-dom\n<span class=\"lineNumber\">3</span><span class=\"hljs-comment\"># babel ç›¸å…³ä¾èµ–</span>\n<span class=\"lineNumber\">4</span>yarn add -D babel-loader @babel/preset-env @babel/preset-react \n<span class=\"lineNumber\">5</span><span class=\"hljs-comment\"># webpack ä¾èµ–</span>\n<span class=\"lineNumber\">6</span>yarn add webpack webpack-cli\n<span class=\"lineNumber\">7</span><span class=\"hljs-comment\"># ä½¿ç”¨ webpack åˆå§‹åŒ–å…¶é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®éœ€æ±‚ä¼šè‡ªåŠ¨å®‰è£…ä¸€äº›ä¾èµ–</span>\n<span class=\"lineNumber\">8</span>npx webpack init</code></pre> \n\n<p>æ¥ç€ï¼Œå¯¹<code>.babelrc</code>æ–‡ä»¶è¿›è¡Œç¼–è¾‘ä½¿å…¶æ”¯æŒ<code>react</code>ç›¸å…³ç‰¹æ€§ï¼š</p>\n<pre><code class=\"hljs language-js\"><span class=\"lineNumber\">1</span>{\n<span class=\"lineNumber\">2</span>  <span class=\"hljs-string\">\"plugins\"</span>: [<span class=\"hljs-string\">\"@babel/syntax-dynamic-import\"</span>],\n<span class=\"lineNumber\">3</span>  <span class=\"hljs-string\">\"presets\"</span>: [\n<span class=\"lineNumber\">4</span>    [\n<span class=\"lineNumber\">5</span>      <span class=\"hljs-string\">\"@babel/preset-env\"</span>,\n<span class=\"lineNumber\">6</span>      {\n<span class=\"lineNumber\">7</span>        <span class=\"hljs-string\">\"modules\"</span>: <span class=\"hljs-literal\">false</span>\n<span class=\"lineNumber\">8</span>      }\n<span class=\"lineNumber\">9</span>    ],\n<span class=\"lineNumber\">10</span>    [<span class=\"hljs-string\">\"@babel/preset-react\"</span>]\n<span class=\"lineNumber\">11</span>  ]\n<span class=\"lineNumber\">12</span>}</code></pre> \n\n<p>ä¸€åˆ‡ä»ç®€ï¼Œæ¥ç€å®‰è£…<code>@chakra-ui</code>ç›¸å…³å¥—ä»¶ï¼š</p>\n<p><code>yarn add @chakra-ui/react @emotion/react@^11 @emotion/styled@^11 framer-motion@^4</code></p>\n<p>ç†Ÿæ‚‰äº†<code>chakra-ui</code>ä¹‹åï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„ç›´æ¥å†™æ ·å¼ã€‚</p>\n<blockquote>\n<p>Material-UI çš„è®¾è®¡å¾ˆå¥½ï¼Œä¹Ÿè®¸æœªæ¥å¯ä»¥å°è¯•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ã€‚</p>\n</blockquote>\n<p>okï¼Œæ¥ä¸‹æ¥æ­£å¼å¼€å§‹ä»‹ç»ä»Šå¤©çš„ä¸»é¢˜ï¼š<code>åœ†ç¯è¿›åº¦æ¡</code>ã€‚</p>\n<h2>2. åœ†ç¯è¿›åº¦ç¯ç»„ä»¶è®¾è®¡ - svg</h2>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹æœ€ç»ˆæ•ˆæœï¼š</p>\n<p><img src=\"https://raw.githubusercontent.com/youyiqin/markdown_imgs/master/image-20210910003938507-20210910004529145.png\" alt=\"image-20210910003938507\"></p>\n<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œåœ†å½¢ä¸­é—´æœ‰ä¸€ä¸ªç™¾åˆ†æ¯”å­—ç¬¦ä¸²ï¼Œåœ†å½¢è¾¹ç¼˜æ˜¯ä¸€ä¸ªå…·æœ‰â€œè¿›åº¦â€æ„ä¹‰çš„ç´«è‰²è¿›åº¦æ¡ï¼Œä¸”å…¶åœ¨æ•´ä¸ªç¯çš„å æ¯”ä¸ºåœ†ç¯ä¸­å¿ƒçš„ç™¾åˆ†æ¯”å­—ç¬¦ä¸²ç­‰å€¼ï¼Œå¹¶ä¸”å…¶ä½™ç™¾åˆ†æ¯”éƒ¨åˆ†ä¹Ÿæœ‰ä¸€ä¸ªç°ç™½è‰²çš„æ ·å¼ã€‚</p>\n<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>svg</code>æ ‡ç­¾æ¥åˆ›å»ºè¿™ä¸ªç»„ä»¶ã€‚</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"lineNumber\">1</span><span class=\"hljs-keyword\">return</span> (\n<span class=\"lineNumber\">2</span>    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;></span>\n<span class=\"lineNumber\">3</span>        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg\"</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">{}</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">{}</span>></span>\n<span class=\"lineNumber\">4</span> \n<span class=\"lineNumber\">5</span>        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">svg</span>></span>\n<span class=\"lineNumber\">6</span>    <span class=\"hljs-tag\">&#x3C;/></span></span>\n<span class=\"lineNumber\">7</span>);</code></pre> \n\n<p><code>svg</code>çš„å®½é«˜å¯ä»¥é€šè¿‡ç»„ä»¶çš„<code>props</code>ä¼ ä¸‹æ¥ï¼Œåœ¨<code>svg</code>å†…éƒ¨æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåœ†ã€‚</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"lineNumber\">1</span>&#x3C;svg className=<span class=\"hljs-string\">\"svg\"</span> width={} height={}>\n<span class=\"lineNumber\">2</span>    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">circle</span>\n<span class=\"lineNumber\">3</span>        <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg-circle-bg\"</span>\n<span class=\"lineNumber\">4</span>        <span class=\"hljs-attr\">stroke</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">5</span>        <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">6</span>        <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">7</span>        <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">8</span>        <span class=\"hljs-attr\">strokeWidth</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">9</span>    /></span></span>\n<span class=\"lineNumber\">10</span>    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">circle</span>\n<span class=\"lineNumber\">11</span>        <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg-circle\"</span>\n<span class=\"lineNumber\">12</span>        <span class=\"hljs-attr\">stroke</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">13</span>        <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">14</span>        <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">15</span>        <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">16</span>        <span class=\"hljs-attr\">strokeWidth</span>=<span class=\"hljs-string\">{}</span>\n<span class=\"lineNumber\">17</span>    /></span></span>\n<span class=\"lineNumber\">18</span>&#x3C;/svg></code></pre> \n\n<blockquote>\n<p>svg å¯ä»¥ä½¿ç”¨ fill å’Œ stroke å±æ€§æ¥ä¸Šè‰²ï¼Œfill è®¾ç½®å¯¹è±¡å†…éƒ¨çš„é¢œè‰²ï¼Œ stroke è®¾ç½®å¯¹è±¡è¾¹æ¡†çº¿æ¡çš„é¢œè‰²ã€‚</p>\n</blockquote>\n<p><code>svg</code>å…·æœ‰<code>æè¾¹</code>çš„æ¦‚å¿µï¼Œæè¾¹æ˜¯ä»¥è·¯å¾„ä¸ºä¸­å¿ƒçº¿ç»˜åˆ¶çš„ã€‚æˆ‘ä»¬çš„åœ†ç¯è¿›åº¦å°±æ˜¯åˆ©ç”¨åœ†å½¢è¾¹çº¿æè¾¹å®ç°çš„ã€‚</p>\n<p>æè¾¹ä¸èƒ½ä¸è¾¹æ¡†å±æ€§<code>border</code>æ··æ·†ï¼Œåˆ©ç”¨<code>svg</code>æè¾¹æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€äº›ä¼˜ç¾çš„<code>\"è¾¹æ¡†\"</code>ã€‚</p>\n<p>çœ‹çœ‹æè¾¹çš„ä¸‰ç§æ–¹å¼ï¼š</p>\n<p><img src=\"https://raw.githubusercontent.com/youyiqin/markdown_imgs/master/%253DSVG_Stroke_Linecap_Example.png\" alt=\"\"></p>\n<p>æˆ‘ä»¬çš„åœ†ç¯å°±æ˜¯ä½¿ç”¨ css å±æ€§ <code>troke-linecap: round;</code>æ¥å®ç°çš„åœ†è§’ï¼Œç›¸è¾ƒäºé»˜è®¤çš„çŸ©å½¢è¾¹ç•Œï¼Œåœ†è§’çœ‹èµ·æ¥æ›´æŸ”å’Œä¸€äº›ã€‚</p>\n<p>å¦å¤–ï¼Œåœ†ç¯ä¸­å¿ƒçš„æ–‡æœ¬ä½¿ç”¨<code>text</code>åˆ›å»ºï¼š</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"lineNumber\">1</span>&#x3C;svg>\n<span class=\"lineNumber\">2</span>    ...\n<span class=\"lineNumber\">3</span>    &#x3C;text className=<span class=\"hljs-string\">\"svg-circle-text\"</span> x={}  y={}>\n<span class=\"lineNumber\">4</span>        ...\n<span class=\"lineNumber\">5</span>    &#x3C;/text>\n<span class=\"lineNumber\">6</span>&#x3C;/svg></code></pre> \n\n<p>å¦‚ä¸‹æ˜¯<code>scss</code>æ ·å¼ï¼š</p>\n<pre><code class=\"hljs language-scss\"><span class=\"lineNumber\">1</span><span class=\"hljs-selector-class\">.svg</span> {\n<span class=\"lineNumber\">2</span>  <span class=\"hljs-attribute\">margin</span>: <span class=\"hljs-number\">100px</span> auto;\n<span class=\"lineNumber\">3</span>  <span class=\"hljs-attribute\">border-radius</span>: <span class=\"hljs-number\">50%</span>;\n<span class=\"lineNumber\">4</span>  <span class=\"hljs-attribute\">background-color</span>: rgb(<span class=\"hljs-number\">216</span>, <span class=\"hljs-number\">237</span>, <span class=\"hljs-number\">238</span>);\n<span class=\"lineNumber\">5</span>}\n<span class=\"lineNumber\">6</span> \n<span class=\"lineNumber\">7</span><span class=\"hljs-selector-class\">.svg-circle-bg</span> {\n<span class=\"lineNumber\">8</span>  fill: none;\n<span class=\"lineNumber\">9</span>}\n<span class=\"lineNumber\">10</span> \n<span class=\"lineNumber\">11</span><span class=\"hljs-selector-class\">.svg-circle</span> {\n<span class=\"lineNumber\">12</span>  fill: none;\n<span class=\"lineNumber\">13</span>  stroke-linecap: round;\n<span class=\"lineNumber\">14</span>  <span class=\"hljs-comment\">// ä»¥ä¸‹æ˜¯ä¸ºäº†è®©è¿›åº¦èµ·å§‹åœ¨ 12 ç‚¹é’Ÿä½ç½®è€Œæ·»åŠ çš„è®¾ç½®ä¸­å¿ƒç‚¹å’Œæ—‹è½¬å±æ€§</span>\n<span class=\"lineNumber\">15</span>  <span class=\"hljs-attribute\">transform-origin</span>: center;\n<span class=\"lineNumber\">16</span>  <span class=\"hljs-attribute\">transform</span>: rotate(-<span class=\"hljs-number\">90deg</span>);\n<span class=\"lineNumber\">17</span>  <span class=\"hljs-attribute\">transform</span>-box: fill-box;\n<span class=\"lineNumber\">18</span>}\n<span class=\"lineNumber\">19</span><span class=\"hljs-selector-class\">.svg-circle-text</span> {\n<span class=\"lineNumber\">20</span>  <span class=\"hljs-attribute\">font-size</span>: <span class=\"hljs-number\">2rem</span>;\n<span class=\"lineNumber\">21</span>  text-anchor: middle;\n<span class=\"lineNumber\">22</span>  fill: tomato;\n<span class=\"lineNumber\">23</span>  <span class=\"hljs-attribute\">font-weight</span>: bold;\n<span class=\"lineNumber\">24</span>}</code></pre> \n\n<p>æ•´ä¸ªç»„ä»¶çš„å…³é”®åœ¨äº<code>svg</code>ä¸­ä½¿ç”¨ä¸¤ä¸ªåœ†å½¢ï¼Œä¸€ä¸ªä½œä¸ºç™¾åˆ†æ¯”æœªè¾¾åˆ°çš„éƒ¨åˆ†çš„èƒŒæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®éœ€è¦ç”¨åˆ°çš„èƒŒæ™¯è‰²ã€‚å¦ä¸€ä¸ªåœ†å½¢åˆ™ä¸ºäº†åˆ©ç”¨å…¶æè¾¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—å‘¨é•¿æ¥è®¾ç½®æè¾¹æ•°ç»„ï¼š</p>\n<pre><code class=\"hljs language-jsx\"><span class=\"lineNumber\">1</span>...\n<span class=\"lineNumber\">2</span><span class=\"hljs-keyword\">const</span> center = size / <span class=\"hljs-number\">2</span>;\n<span class=\"lineNumber\">3</span><span class=\"hljs-keyword\">const</span> radiu = center - stokenW / <span class=\"hljs-number\">2</span>;\n<span class=\"lineNumber\">4</span><span class=\"hljs-keyword\">const</span> circumference = <span class=\"hljs-number\">2</span> * <span class=\"hljs-built_in\">Math</span>.PI * radiu;\n<span class=\"lineNumber\">5</span>...</code></pre> \n\n<p>æè¾¹ä½¿ç”¨äº†<code>strokeWidth</code>æ¥è®¾ç½®æè¾¹çš„å®½åº¦ï¼Œ<code>stroke-dasharray</code>æè¾¹æ•°ç»„å€¼ï¼Œä½¿ç”¨<code>stroke-dashoffset</code>æ¥è®¾ç½®æ˜¾ç¤ºåç§»é”™ä½ã€‚</p>\n<p>æŒ‰æˆ‘çš„ç†è§£æ¥çœ‹ï¼Œ<code>stroke-dasharray</code>çš„å€¼ä½œä¸ºæ€»æ•°ï¼Œ<code>stroke-dashoffset</code>åˆ™è¡¨ç¤ºæè¾¹æ˜¾ç¤ºçš„èŒƒå›´ï¼Œå½“åç§»ç­‰äºæ€»æ•°çš„æ—¶å€™ï¼Œæ˜¾ç¤ºæ•´ä¸ªæè¾¹å†…å®¹ã€‚</p>\n<blockquote>\n<p>ç»„ä»¶æºä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<pre><code class=\"hljs language-jsx\"><span class=\"lineNumber\">1</span><span class=\"hljs-keyword\">import</span> { Box } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@chakra-ui/layout'</span>;\n<span class=\"lineNumber\">2</span><span class=\"hljs-keyword\">import</span> React, { useEffect, useRef, useState } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'react'</span>;\n<span class=\"lineNumber\">3</span><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./style.scss'</span>;\n<span class=\"lineNumber\">4</span> \n<span class=\"lineNumber\">5</span><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">MyProgress</span>(<span class=\"hljs-params\">props</span>) </span>{\n<span class=\"lineNumber\">6</span>  <span class=\"hljs-keyword\">const</span> {\n<span class=\"lineNumber\">7</span>    size = <span class=\"hljs-number\">300</span>,\n<span class=\"lineNumber\">8</span>    progress = <span class=\"hljs-number\">0</span>,\n<span class=\"lineNumber\">9</span>    stokenW = <span class=\"hljs-number\">12</span>,\n<span class=\"lineNumber\">10</span>    circleOneStroke = <span class=\"hljs-string\">'#eee'</span>,\n<span class=\"lineNumber\">11</span>    circleTwoStroke = <span class=\"hljs-string\">'purple'</span>,\n<span class=\"lineNumber\">12</span>  } = props;\n<span class=\"lineNumber\">13</span>  <span class=\"hljs-keyword\">const</span> center = size / <span class=\"hljs-number\">2</span>;\n<span class=\"lineNumber\">14</span>  <span class=\"hljs-keyword\">const</span> radiu = center - stokenW / <span class=\"hljs-number\">2</span>;\n<span class=\"lineNumber\">15</span>  <span class=\"hljs-keyword\">const</span> circumference = <span class=\"hljs-number\">2</span> * <span class=\"hljs-built_in\">Math</span>.PI * radiu;\n<span class=\"lineNumber\">16</span>  <span class=\"hljs-keyword\">const</span> [offset, setOffset] = useState(<span class=\"hljs-number\">0</span>);\n<span class=\"lineNumber\">17</span>  <span class=\"hljs-keyword\">const</span> svgRef = useRef();\n<span class=\"lineNumber\">18</span>  <span class=\"hljs-keyword\">const</span> oldProgress = useRef(progress);\n<span class=\"lineNumber\">19</span>  <span class=\"hljs-keyword\">const</span> [time, setTime] = useState(<span class=\"hljs-number\">1</span>);\n<span class=\"lineNumber\">20</span> \n<span class=\"lineNumber\">21</span>  useEffect(<span class=\"hljs-function\">() =></span> {\n<span class=\"lineNumber\">22</span>    <span class=\"hljs-keyword\">const</span> newTime = <span class=\"hljs-built_in\">Math</span>.abs(oldProgress.current - progress);\n<span class=\"lineNumber\">23</span>    oldProgress.current = progress;\n<span class=\"lineNumber\">24</span>    setTime(<span class=\"hljs-number\">12</span> * (<span class=\"hljs-number\">100</span> - newTime));\n<span class=\"lineNumber\">25</span>  }, [progress]);\n<span class=\"lineNumber\">26</span>  \n<span class=\"lineNumber\">27</span>  useEffect(<span class=\"hljs-function\">() =></span> {\n<span class=\"lineNumber\">28</span>    <span class=\"hljs-keyword\">const</span> progressOffset = ((<span class=\"hljs-number\">100</span> - progress) / <span class=\"hljs-number\">100</span>) * circumference; <span class=\"hljs-comment\">// ç™¾åˆ†æ¯”ä¹˜ä»¥åœ†å‘¨ï¼Œç­‰äºå½“å‰ç™¾åˆ†æ¯”å¯¹åº”çš„æ˜¾ç¤ºéƒ¨åˆ†å€¼</span>\n<span class=\"lineNumber\">29</span>    setOffset(progressOffset);\n<span class=\"lineNumber\">30</span>    svgRef.current.style = <span class=\"hljs-string\">`transition: stroke-dashoffset <span class=\"hljs-subst\">${time}</span>ms ease-in-out;`</span>;\n<span class=\"lineNumber\">31</span>  }, [progress]);\n<span class=\"lineNumber\">32</span> \n<span class=\"lineNumber\">33</span>  <span class=\"hljs-keyword\">return</span> (\n<span class=\"lineNumber\">34</span>    <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">Box</span>></span>\n<span class=\"lineNumber\">35</span>      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg\"</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">{size}</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">{size}</span>></span>\n<span class=\"lineNumber\">36</span>        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">circle</span>\n<span class=\"lineNumber\">37</span>          <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg-circle-bg\"</span>\n<span class=\"lineNumber\">38</span>          <span class=\"hljs-attr\">stroke</span>=<span class=\"hljs-string\">{circleOneStroke}</span>\n<span class=\"lineNumber\">39</span>          <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">{center}</span>  // åœ†å¿ƒ <span class=\"hljs-attr\">x</span>\n<span class=\"lineNumber\">40</span>          <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">{center}</span>  // åœ†å¿ƒ <span class=\"hljs-attr\">y</span>\n<span class=\"lineNumber\">41</span>          <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">{radiu}</span>    // åŠå¾„\n<span class=\"lineNumber\">42</span>          <span class=\"hljs-attr\">strokeWidth</span>=<span class=\"hljs-string\">{stokenW}</span>  // æè¾¹å®½åº¦ï¼Œè¾¹çº¿æ˜¯æè¾¹çš„ä¸­å¿ƒ\n<span class=\"lineNumber\">43</span>        /></span>\n<span class=\"lineNumber\">44</span>        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">circle</span>\n<span class=\"lineNumber\">45</span>          <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg-circle\"</span>\n<span class=\"lineNumber\">46</span>          <span class=\"hljs-attr\">stroke</span>=<span class=\"hljs-string\">{circleTwoStroke}</span>\n<span class=\"lineNumber\">47</span>          <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">{center}</span>\n<span class=\"lineNumber\">48</span>          <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">{center}</span>\n<span class=\"lineNumber\">49</span>          <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">{radiu}</span>\n<span class=\"lineNumber\">50</span>          <span class=\"hljs-attr\">strokeWidth</span>=<span class=\"hljs-string\">{stokenW}</span>\n<span class=\"lineNumber\">51</span>          <span class=\"hljs-attr\">strokeDasharray</span>=<span class=\"hljs-string\">{circumference}</span>\n<span class=\"lineNumber\">52</span>          <span class=\"hljs-attr\">strokeDashoffset</span>=<span class=\"hljs-string\">{offset}</span>\n<span class=\"lineNumber\">53</span>          <span class=\"hljs-attr\">ref</span>=<span class=\"hljs-string\">{svgRef}</span>\n<span class=\"lineNumber\">54</span>        /></span>\n<span class=\"lineNumber\">55</span>        <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">text</span>\n<span class=\"lineNumber\">56</span>          <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"svg-circle-text\"</span>\n<span class=\"lineNumber\">57</span>          <span class=\"hljs-attr\">x</span>=<span class=\"hljs-string\">{center}</span>\n<span class=\"lineNumber\">58</span>          <span class=\"hljs-attr\">y</span>=<span class=\"hljs-string\">{center}</span>\n<span class=\"lineNumber\">59</span>          <span class=\"hljs-attr\">dominantBaseline</span>=<span class=\"hljs-string\">\"middle\"</span>\n<span class=\"lineNumber\">60</span>        ></span>\n<span class=\"lineNumber\">61</span>          {progress}%\n<span class=\"lineNumber\">62</span>        <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">text</span>></span>\n<span class=\"lineNumber\">63</span>      <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">svg</span>></span>\n<span class=\"lineNumber\">64</span>    <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">Box</span>></span></span>\n<span class=\"lineNumber\">65</span>  );\n<span class=\"lineNumber\">66</span>}\n<span class=\"lineNumber\">67</span></code></pre> \n\n<p>çœ¼çš®ä¸Šä¸‹äº’åšäº†ï¼Œè¿™ä¸ªç»„ä»¶è¿˜æœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ã€‚ç°åœ¨ï¼Œçˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„<code>progress</code>ç™¾åˆ†æ¯”å€¼çš„æ”¹åŠ¨å°†ä¼šåˆ›å»ºä¸€ä¸ªæè¾¹åç§»çš„åŠ¨ç”»ï¼Œåœ¨å¦å¤–çš„åœºæ™¯ä¸‹ä¹Ÿè®¸ä¸éœ€è¦è¿™ä¸ªåŠ¨ç”»ï¼Œè€Œæ˜¯æ ¹æ®<code>progress</code>çš„å€¼æ¥åŠ¨æ€è°ƒæ•´åç§»å³å¯ï¼Œå› æ­¤è¯´è¿™ä¸ªç»„ä»¶ä¾ç„¶æœ‰å¾ˆå¤šå€¼å¾—ä¼˜åŒ–çš„åœ°æ–¹ã€‚</p>\n<h2>3. ç¢ç¢å¿µ</h2>\n<p>ä¸Šæ¬¡å†™åˆ†äº«æ˜¯ä»€ä¹ˆæ—¶å€™äº†ï¼Ÿæœ¬ç¯‡å†…å®¹æ¯”è¾ƒåˆçº§ï¼Œå› æ­¤åªåœ¨è¿™é‡Œå‘å¸ƒğŸ˜‚ã€‚</p>\n<p>anyway - æˆ‘åšè¿‡å¾ˆå¤šåŠé€”è€ŒåºŸçš„äº‹æƒ…ï¼Œä¸å¸Œæœ›å†™åˆ†äº«è¿™ä»¶äº‹å˜æˆå…¶ä¸­ä¹‹ä¸€ã€‚</p>\n<p>å…ˆè¿™æ ·å§ï¼Œç¡è§‰ğŸ˜´ã€‚</p>\n<h1>å‚è€ƒ</h1>\n<ul>\n<li><a href=\"https://blog.logrocket.com/how-to-build-an-svg-circular-progress-component-using-react-and-react-hooks/\">How to build an SVG circular progress component using React and React Hooks - LogRocket Blog</a></li>\n<li><a href=\"https://github.com/youyiqin/react-progress\">youyiqin/react-progress</a> æºä»£ç </li>\n</ul>\n","title":"ä½¿ç”¨reactå’Œsvgåˆ›å»ºåœ†ç¯è¿›åº¦æ¡","date":"2021/9/10","tags":["React"],"mainImg":"https://images.unsplash.com/photo-1569396116180-210c182bedb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2MzEyMDQxMjc&ixlib=rb-1.2.1&q=80&w=1080","coverImg":"https://images.unsplash.com/photo-1569396116180-210c182bedb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNjUyNjZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE2MzEyMDQxMjc&ixlib=rb-1.2.1&q=80&w=400","intro":"å‰æ®µæ—¶é—´åˆšå¥½æ¥è§¦ä¸€ä¸ªè®¾è®¡é¡µé¢éœ€è¦ç”¨åˆ°åœ†å½¢è¿›åº¦ç¯ï¼Œå½“æ—¶ä½¿ç”¨çš„æ˜¯è°·æ­Œçš„ material-ui çš„åœ†å½¢è¿›åº¦æ¡ï¼Œä¸ºäº†å®ç°è®¾è®¡å›¾çš„æ•ˆæœéœ€è¦å¯¹åº“ç»„ä»¶è¿›è¡Œä¿®æ”¹ï¼Œäºæ˜¯æœç´¢äº†å…³äºåœ†å½¢è¿›åº¦æ¡çš„å®ç°ï¼Œå­¦äº†ä¸€æ‰‹ã€‚"}},"__N_SSG":true}